!function(t){"object"==typeof module&&"undefined"!=typeof module.exports?module.exports=t:t()}((function(){(window.webpackJsonpFusionCharts=window.webpackJsonpFusionCharts||[]).push([[7],{1585:function(t,e,a){"use strict";var n=a(273);e.__esModule=!0,e["default"]=void 0;var o=n(a(1586));e.Gantt=o["default"];var i={name:"gantt",type:"package",requiresFusionCharts:!0,extension:function(t){return t.addDep(o["default"])}};e["default"]=i},1586:function(t,e,a){"use strict";var n=a(273);e.__esModule=!0,e["default"]=void 0;var o=n(a(1587))["default"];e["default"]=o},1587:function(t,e,a){"use strict";var n=a(273);e.__esModule=!0,e["default"]=void 0;var o,i=n(a(292)),r=n(a(626)),s=n(a(1588)),l=n(a(1590)),c=n(a(1596)),d=n(a(1597)),h=n(a(1603)),g=n(a(1605)),p=a(419),u=a(491),f=a(278),m=Math.max,v=Math.min,b=(o=[],{get:function(){return o},clear:function(){o.length=0},add:function(t,e){o.push({conf:t,handler:e})}});f.setAttribDefs&&(0,f.setAttribDefs)({showpercentlabel:{type:f.attrTypeBool,pAttr:"showpercentlabel"},fontsize:{type:f.attrTypeNum},alpha:{type:f.attrTypeNum},showborder:{type:f.attrTypeBool},borderthickness:{type:f.attrTypeNum},borderalpha:{type:f.attrTypeNum},showHoverEffect:{type:f.attrTypeNum},hoverFillAlpha:{type:f.attrTypeNum},slackHoverFillColor:{type:f.attrTypeNum},slackHoverFillAlpha:{type:f.attrTypeBool},showlabels:{type:f.attrTypeBool,pAttr:"showtasknames"},slackfillcolor:{pAttr:"slackfillcolor"},showtasklabels:{type:f.attrTypeBool,pAttr:"showtasknames"},showtasknames:{type:f.attrTypeBool,pAttr:"showlabels"},showconnectorhovereffect:{type:f.attrTypeNum,pAttr:"showhovereffect"},connectorextension:{type:f.attrTypeNum},tasklabelspadding:{type:f.attrTypeNum},taskdatepadding:{type:f.attrTypeNum},showstartdate:{type:f.attrTypeNum,pAttr:"showtaskstartdate"},showenddate:{type:f.attrTypeNum,pAttr:"showtaskenddate"},showtaskhovereffect:{type:f.attrTypeNum,pAttr:"showhovereffect"},useverticalscrolling:{type:f.attrTypeNum},taskbarroundradius:{type:f.attrTypeNum},showshadow:{type:f.attrTypeNum},showslackasfill:{type:f.attrTypeNum}});var x=function(t){function e(){var e;return(e=t.call(this)||this)._scrollBar=b,e.components={},e.fireGroupEvent=!0,e.hasInteractiveLegend=!1,e.defaultPaletteOptions=(0,f.extend2)((0,f.extend2)({},f.defaultGaugePaletteOptions),{paletteColors:[["AFD8F8","F6BD0F","8BBA00","FF8E46","008E8E","D64646","8E468E","588526","B3AA00","008ED6","9D080D","A186BE","CC6600","FDC689","ABA000","F26D7D","FFF200","0054A6","F7941C","CC3300","006600","663300","6DCFF6"],["AFD8F8","F6BD0F","8BBA00","FF8E46","008E8E","D64646","8E468E","588526","B3AA00","008ED6","9D080D","A186BE","CC6600","FDC689","ABA000","F26D7D","FFF200","0054A6","F7941C","CC3300","006600","663300","6DCFF6"],["AFD8F8","F6BD0F","8BBA00","FF8E46","008E8E","D64646","8E468E","588526","B3AA00","008ED6","9D080D","A186BE","CC6600","FDC689","ABA000","F26D7D","FFF200","0054A6","F7941C","CC3300","006600","663300","6DCFF6"],["AFD8F8","F6BD0F","8BBA00","FF8E46","008E8E","D64646","8E468E","588526","B3AA00","008ED6","9D080D","A186BE","CC6600","FDC689","ABA000","F26D7D","FFF200","0054A6","F7941C","CC3300","006600","663300","6DCFF6"],["AFD8F8","F6BD0F","8BBA00","FF8E46","008E8E","D64646","8E468E","588526","B3AA00","008ED6","9D080D","A186BE","CC6600","FDC689","ABA000","F26D7D","FFF200","0054A6","F7941C","CC3300","006600","663300","6DCFF6"]],bgColor:["FFFFFF","FFFFFF","FFFFFF","FFFFFF","FFFFFF"],bgAngle:[270,270,270,270,270],bgRatio:["100","100","100","100","100"],bgAlpha:["100","100","100","100","100"],canvasBgColor:["FFFFFF","FFFFFF","FFFFFF","FFFFFF","FFFFFF"],canvasBgAngle:[0,0,0,0,0],canvasBgAlpha:["100","100","100","100","100"],canvasBgRatio:["","","","",""],canvasBorderColor:["545454","545454","415D6F","845001","68001B"],canvasBorderAlpha:[100,100,100,90,100],gridColor:["DDDDDD","D8DCC5","99C4CD","DEC49C","FEC1D0"],gridResizeBarColor:["999999","545454","415D6F","845001","D55979"],categoryBgColor:["F1F1F1","EEF0E6","F2F8F9","F7F0E6","FFF4F8"],dataTableBgColor:["F1F1F1","EEF0E6","F2F8F9","F7F0E6","FFF4F8"],toolTipBgColor:["FFFFFF","FFFFFF","FFFFFF","FFFFFF","FFFFFF"],toolTipBorderColor:["545454","545454","415D6F","845001","68001B"],baseFontColor:["555555","60634E","025B6A","A15E01","68001B"],borderColor:["767575","545454","415D6F","845001","68001B"],borderAlpha:[50,50,50,50,50],legendBgColor:["ffffff","ffffff","ffffff","ffffff","ffffff"],legendBorderColor:["666666","545454","415D6F","845001","D55979"],plotBorderColor:["999999","8A8A8A","6BA9B6","C1934D","FC819F"],plotFillColor:["EEEEEE","D8DCC5","BCD8DE","E9D8BE","FEDAE3"],scrollBarColor:["EEEEEE","D8DCC5","99C4CD","DEC49C","FEC1D0"]}),e.registerFactory("canvas",s["default"]),e.registerFactory("axis",l["default"],["canvas"]),e.registerFactory("dataset",g["default"],["canvas"]),e}(0,i["default"])(e,t),e.getName=function(){return"Gantt"};var a=e.prototype;return a.draw=function(){t.prototype.draw.call(this),this.createScrollbarContainer()},a.getName=function(){return"Gantt"},a.__setDefaultConfig=function(){t.prototype.__setDefaultConfig.call(this);var e=this.config;e.alignCaptionWithCanvas=0,e.defaultDatasetType="task",e.taskbarroundradius=0,e.taskbarfillmix=" { light-10 }, { dark-20 }, { light-50 }, { light-85 }",e.taskbarfillratio="0,8,84,8",e.showslackasfill=1,e.dateintooltip=1,e.tasklabelsalign=f.POSITION_CENTER,e.datepadding=3,e.showtasknames=0,e.showpercentlabel=!1,e.showhovereffect=1,e.slackfillcolor="FF5E5E",e.connectorextension=10,e.tasklabelspadding=2,e.taskdatepadding=3,e.showlabels=void 0,e.showtooltip=1,e.showtaskhovereffect=void 0,e.useverticalscrolling=1,e.ganttpanedurationunit=void 0,e.ganttpaneduration=void 0,e.showtaskstartdate=void 0,e.showtaskenddate=void 0,e.ganttwidthpercent=void 0,e.showshadow=1,e.taskhoverfillalpha=f.HUNDREDSTRING,e.enablemousetracking=!1},a._checkInvalidSpecificData=function(){var t=this.getFromEnv("dataSource"),e=t.processes,a=e&&e.process,n=a&&a.length,o=t.tasks,i=o&&o.task||o,r=i&&i.length,s=t.categories,l=s&&s[0]&&s[0].category,c=l&&l.length;return!n||!r||!c},a.parseChartAttr=function(e){var a=this.config,n=e&&e.chart||this.getFromEnv("chart-attrib");t.prototype.parseChartAttr.call(this,e),a.showBorder=(0,f.pluckNumber)(n.showborder,0),a.alignLegendWithCanvas=0,a.taskhoverfillalpha=e.chart.taskhoverfillalpha},a._feedAxesRawData=function(){var t=this.getFromEnv("color-manager"),e=this.getFromEnv("dataSource"),a=e.chart,n=this.is3d,o=n?f.chartPaletteStr.chart3D:f.chartPaletteStr.chart2D,i=(0,f.pluckFontSizeMaintainUnit)(a.outcnvbasefontsize,a.basefontsize,10);return{xAxisConf:[{isVertical:!1,isReverse:!1,isOpposit:!0,outCanfontFamily:(0,f.pluck)(a.outcnvbasefont,a.basefont,"Verdana,sans"),outCanfontSize:this.computeFontSize(i),outCanfontSizeWithUnit:i,outCancolor:(0,f.pluck)(a.outcnvbasefontcolor,a.basefontcolor,t.getColor(o.baseFontColor)).replace(/^#? ([a-f0-9]+)/gi,"#$1"),axisBreaks:a.xaxisbreaks,axisNamePadding:a.xaxisnamepadding,axisValuePadding:a.labelpadding,axisNameFont:a.xaxisnamefont,axisNameFontSize:this.computeFontSize(a.xaxisnamefontsize),axisNameFontSizeWithUnit:a.xaxisnamefontsize,axisNameFontColor:a.xaxisnamefontcolor,axisNameFontBold:a.xaxisnamefontbold,axisNameFontItalic:a.xaxisnamefontitalic,axisNameBgColor:a.xaxisnamebgcolor,axisNameBorderColor:a.xaxisnamebordercolor,axisNameAlpha:a.xaxisnamealpha,axisNameFontAlpha:a.xaxisnamefontalpha,axisNameBgAlpha:a.xaxisnamebgalpha,axisNameBorderAlpha:a.xaxisnameborderalpha,axisNameBorderPadding:a.xaxisnameborderpadding,axisNameBorderRadius:a.xaxisnameborderradius,axisNameBorderThickness:a.xaxisnameborderthickness,axisNameBorderDashed:a.xaxisnameborderdashed,axisNameBorderDashLen:a.xaxisnameborderdashlen,axisNameBorderDashGap:a.xaxisnameborderdashgap,useEllipsesWhenOverflow:a.useellipseswhenoverflow,divLineColor:(0,f.pluck)(a.vdivlinecolor,t.getColor(o.divLineColor)),divLineAlpha:(0,f.pluck)(a.vdivlinealpha,n?t.getColor("divLineAlpha3D"):t.getColor("divLineAlpha")),divLineThickness:(0,f.pluckNumber)(a.vdivlinethickness,1),divLineIsDashed:Boolean((0,f.pluckNumber)(a.vdivlinedashed,a.vdivlineisdashed,0)),divLineDashLen:(0,f.pluckNumber)(a.vdivlinedashlen,4),divLineDashGap:(0,f.pluckNumber)(a.vdivlinedashgap,2),showAlternateGridColor:(0,f.pluckNumber)(a.showalternatevgridcolor,0),alternateGridColor:(0,f.pluck)(a.alternatevgridcolor,t.getColor("altVGridColor")),alternateGridAlpha:(0,f.pluck)(a.alternatevgridalpha,t.getColor("altVGridAlpha")),numDivLines:(0,f.pluckNumber)(a.numvdivlines,this.config.numVDivLines),labelFont:a.labelfont,labelFontSize:this.computeFontSize(a.labelfontsize),labelFontSizeWithUnit:a.labelfontsize,labelFontColor:a.labelfontcolor,labelFontAlpha:a.labelalpha,labelFontBold:a.labelfontbold,labelFontItalic:a.labelfontitalic,maxLabelHeight:a.maxlabelheight,axisName:a.xaxisname,axisMinValue:a.xaxisminvalue,axisMaxValue:a.xaxismaxvalue,setAdaptiveMin:a.setadaptivexmin,adjustDiv:a.adjustvdiv,labelDisplay:a.labeldisplay,showLabels:a.showlabels,rotateLabels:a.rotatelabels,slantLabel:(0,f.pluckNumber)(a.slantlabels,a.slantlabel),labelStep:(0,f.pluckNumber)(a.labelstep,a.xaxisvaluesstep),showAxisValues:(0,f.pluckNumber)(a.showxaxisvalues,a.showxaxisvalue),showLimits:(0,f.pluckNumber)(a.showvlimits,this.config.showvlimits),showDivLineValues:(0,f.pluckNumber)(a.showvdivlinevalues,a.showvdivlinevalues),zeroPlaneColor:a.vzeroplanecolor,zeroPlaneThickness:a.vzeroplanethickness||2,zeroPlaneAlpha:a.vzeroplanealpha,showZeroPlaneValue:a.showvzeroplanevalue,vTrendLines:e.trendlines,trendlineColor:a.trendlinecolor,trendlineToolText:a.trendlinetooltext,trendlineThickness:a.trendlinethickness,trendlineAlpha:a.trendlinealpha,showTrendlinesOnTop:a.showtrendlinesontop,showAxisLine:(0,f.pluckNumber)(a.showxaxisline,a.showaxislines,a.drawAxisLines,0),axisLineThickness:(0,f.pluckNumber)(a.xaxislinethickness,a.axislinethickness,1),axisLineAlpha:(0,f.pluckNumber)(a.xaxislinealpha,a.axislinealpha,100),axisLineColor:(0,f.pluck)(a.xaxislinecolor,a.axislinecolor,"#000000")}],yAxisConf:[{isVertical:!0,isReverse:!0,isOpposit:!1,outCanfontFamily:(0,f.pluck)(a.outcnvbasefont,a.basefont,"Verdana,sans"),outCanfontSize:this.computeFontSize(i),outCanfontSizeWithUnit:i,outCancolor:(0,f.pluck)(a.outcnvbasefontcolor,a.basefontcolor,t.getColor(o.baseFontColor)).replace(/^#? ([a-f0-9]+)/gi,"#$1"),axisBreaks:a.yaxisbreaks,axisNamePadding:a.yaxisnamepadding,axisValuePadding:a.yaxisvaluespadding,axisNameFont:a.yaxisnamefont,axisNameFontSize:this.computeFontSize(a.yaxisnamefontsize),axisNameFontSizeWithUnit:a.yaxisnamefontsize,axisNameFontColor:a.yaxisnamefontcolor,axisNameFontBold:a.yaxisnamefontbold,axisNameFontItalic:a.yaxisnamefontitalic,axisNameBgColor:a.yaxisnamebgcolor,axisNameBorderColor:a.yaxisnamebordercolor,axisNameAlpha:a.yaxisnamealpha,axisNameFontAlpha:a.yaxisnamefontalpha,axisNameBgAlpha:a.yaxisnamebgalpha,axisNameBorderAlpha:a.yaxisnameborderalpha,axisNameBorderPadding:a.yaxisnameborderpadding,axisNameBorderRadius:a.yaxisnameborderradius,axisNameBorderThickness:a.yaxisnameborderthickness,axisNameBorderDashed:a.yaxisnameborderdashed,axisNameBorderDashLen:a.yaxisnameborderdashlen,axisNameBorderDashGap:a.yaxisnameborderdashgap,axisNameWidth:a.yaxisnamewidth,useEllipsesWhenOverflow:a.useellipseswhenoverflow,rotateAxisName:(0,f.pluckNumber)(a.rotateyaxisname,1),axisName:a.yaxisname,divLineColor:(0,f.pluck)(a.divlinecolor,t.getColor(o.divLineColor)),divLineAlpha:(0,f.pluck)(a.divlinealpha,n?t.getColor("divLineAlpha3D"):t.getColor("divLineAlpha")),divLineThickness:(0,f.pluckNumber)(a.divlinethickness,1),divLineIsDashed:Boolean((0,f.pluckNumber)(a.divlinedashed,a.divlineisdashed,0)),divLineDashLen:(0,f.pluckNumber)(a.divlinedashlen,4),divLineDashGap:(0,f.pluckNumber)(a.divlinedashgap,2),showAlternateGridColor:(0,f.pluckNumber)(a.showalternatehgridcolor,1),alternateGridColor:(0,f.pluck)(a.alternatehgridcolor,t.getColor("altHGridColor")),alternateGridAlpha:(0,f.pluck)(a.alternatehgridalpha,t.getColor("altHGridAlpha")),numDivLines:(0,f.pluckNumber)(a.numdivlines,this.numDivLines),axisMinValue:a.yaxisminvalue,axisMaxValue:a.yaxismaxvalue,setAdaptiveMin:a.setadaptiveymin,adjustDiv:a.adjustdiv,labelStep:a.yaxisvaluesstep,showAxisValues:(0,f.pluckNumber)(a.showyaxisvalues,a.showyaxisvalue),showLimits:(0,f.pluckNumber)(a.showlimits,this.showLimits),showDivLineValues:(0,f.pluckNumber)(a.showdivlinevalues,a.showdivlinevalue),zeroPlaneColor:a.zeroplanecolor,zeroPlaneThickness:a.zeroplanethickness||2,zeroPlaneAlpha:a.zeroplanealpha,showZeroPlaneValue:a.showzeroplanevalue,trendlineColor:a.trendlinecolor,trendlineToolText:a.trendlinetooltext,trendlineThickness:a.trendlinethickness,trendlineAlpha:a.trendlinealpha,showTrendlinesOnTop:a.showtrendlinesontop,showAxisLine:(0,f.pluckNumber)(a.showyaxisline,a.showaxislines,a.drawAxisLines,0),axisLineThickness:(0,f.pluckNumber)(a.yaxislinethickness,a.axislinethickness,1),axisLineAlpha:(0,f.pluckNumber)(a.yaxislinealpha,a.axislinealpha,100),axisLineColor:(0,f.pluck)(a.yaxislinecolor,a.axislinecolor,"#000000")}]}},a._resetViewPortConfig=function(){this.config.viewPortConfig={scaleX:1,scaleY:1,x:0,y:0}},a._setCategories=function(){var t=this.getFromEnv("dataSource"),e=this.getChildren("xAxis")[0],a=this.getChildren("yAxis")[0],n=t.categories,o=t.datatable,i=t.processes;a.setAxisPadding(.5,.5),a.setProcess(i),a.setDataTable(o),e.setCategory(n)},a.getDSdef=function(t){switch(t){case"milestone":return c["default"];case"connector":return h["default"];case"task":default:return d["default"]}},a._createLegendItems=function(){var t,e,a,n,o,i,r,s,l,c,d=this.getFromEnv("dataSource"),h=this.getFromEnv("legend"),g=h.getChildren("legendItem"),p=d.legend&&d.legend.item||[];if(!this.config.legendItemIds&&(this.config.legendItemIds=[]),(s=g&&g.length||0)>(l=p.length)){for(e=l;e<s;e++)h.disposeItem(g[e].getId());g&&g.splice(l,s-l)}for(e=0,t=p.length;e<t;e++)i=p[e],h.getItem(this.config.legendItemIds[e])?c=this.config.legendItemIds[e]:(c=h.createItem(),this.config.legendItemIds.push(c)),n=i.color,a=(0,f.getLightColor)(n,60).replace(f.dropHash,"#"),o={FCcolor:{color:n+","+n+","+(0,f.getLightColor)(n,40)+","+n+","+n,ratio:"0,70,30",angle:270,alpha:"100,100,100,100,100"}},r={label:i.label,interactiveLegend:!1},h.getItem(c).configure(r),h.getItem(c).setStateCosmetics("default",{symbol:{fill:(0,f.toRaphaelColor)(o),stroke:(0,f.toRaphaelColor)(a)}})},a._spaceManager=function(){var t,e,a,n,o,i,r=this.config,s=this.getChildren("xAxis")[0],l=this.getChildren("yAxis")[0],c=this.getChildren("legend")[0],d=100-(r.ganttwidthpercent||67),h=r.borderWidth,g=0,p=0;this._resetViewPortConfig(),this._allocateSpace({top:h,bottom:h,left:h,right:h}),this._allocateSpace(this._manageActionBarSpace&&this._manageActionBarSpace(.225*r.availableHeight)||{}),c&&(a=c.config.legendPos?c.config.legendPos.split("-"):[]),t=a[0]===f.POSITION_BOTTOM||a[0]===f.POSITION_TOP?.6*r.canvasHeight:.6*r.canvasWidth,this._manageChartMenuBar(t),n="right"===a[0]||"left"===a[0]?.3*r.canvasWidth:.3*r.canvasHeight,r.showLegend&&this._manageLegendSpace(n),r.actualCanvasTop=r.canvasTop,r.actualCanvasLeft=r.canvasLeft,e=r.canvasWidth*(d/100),g+=((o=l.placeAxis(e)).left||0)+(o.right||0),l&&this._allocateSpace(o),t=a[0]===f.POSITION_BOTTOM||a[0]===f.POSITION_TOP?.6*r.canvasHeight:.6*r.canvasWidth,t=.6*r.canvasHeight,p+=(o=s.placeAxis(t)).top||0,r.totalWidth=g,r.totalHeight=p,s&&this._allocateSpace(o),i=l&&l.setProcessHeight(),l.setAxisConfig({processTotalHeight:i})},a._postSpaceManagement=function(){var t,e,a,n,o,i=this.config,r=this.getChildren("xAxis")[0],s=this.getChildren("yAxis")[0],l=r.getLimit(),c=s.getAxisConfig("processTotalHeight"),d=i.canvasHeight,h=this.getChildren("legend")[0],g=i.xDepth,p=this.getChildren("canvas")[0].config,f=p.canvasBorderWidth,m=p.canvasPadding,v=this.getChildren("vScrollBar")&&this.getChildren("vScrollBar")[0],b=v&&v.config,x=p.canvasPaddingLeft,k=p.canvasPaddingRight,C=Number(i.ganttpaneduration),y=i.ganttpanedurationunit,w=this.getChildren("hProcessScrollBar")&&this.getChildren("hProcessScrollBar")[0],F=this.getChildren("hScrollBar")&&this.getChildren("hScrollBar")[0],P=F&&F.config.height||0,A=w&&w.config.height||0;i.hScrollEnabled=a=!isNaN(C)&&void 0!==y&&function(t,e,a,n){if(t>0)switch(e){case"y":return+u.timeYear.offset(a,t)<n;case"m":return+u.timeMonth.offset(a,t)<n;case"d":return+u.timeDay.offset(a,t)<n;case"h":return+u.timeHour.offset(a,t)<n;case"mn":return+u.timeMinute.offset(a,t)<n;case"s":return+u.timeSecond.offset(a,t)<n}}(C,y,l.min,l.max),n=s.getAxisConfig("totalWidth")>s.getAxisConfig("totalVisiblelWidth"),c>d-Math.max(n?A:0,a?P:0)&&(e=!0),t=e&&b.width||0,o=i.canvasWidth-(g||0)-Math.max(x,m)-Math.max(k,m)-t,r&&r.setAxisDimention({x:p.canvasLeft+(g||0)+Math.max(x,m),y:p.canvasTop-(i.shift||0),opposite:p.canvasTop+p.canvasHeight+f,axisLength:o}),i.currentCanvasWidth=o,s&&s.setAxisDimention({x:p.canvasLeft-(i.shift||0),y:p.canvasTop,opposite:p.canvasRight+f,axisLength:i.canvasHeight}),this._manageScrollbarPosition(),i.showLegend&&h.postSpaceManager(),this.setScrollDimensions(),this.allocateDimensionOfChartMenuBar()},a.createScrollbarContainer=function(){var t=this.getChildContainer(),e=this.getContainer(),a=e.scrollBarParentGroup,n=this.getFromEnv("animationManager");a||(a=e.scrollBarParentGroup=n.setAnimation({el:"group",attr:{name:"scrollBarParentGroup"},container:e.parentgroup,component:this}),this.config.scrollbarContainer=a,a.insertBefore(t.datalabelsGroup))},a.setScrollDimensions=function(){var t,e,a,n,o,i,r,s,l,c,d,h,g,p,u,f,m=this.config,v=this.getChildren(),b=v.xAxis[0],x=b.config.axisRange,k=m.viewPortConfig,C=m.scrollOptions||(m.scrollOptions={}),y=x.max,w=x.min,F=C.horizontalVxLength,P=this.getChildren("hScrollBar")[0],A=P.getChildren("scrollAnchor")[0].config,D=this.getChildren("vScrollBar")[0],L=this.getChildren("hProcessScrollBar")[0],S=m.useverticalscrolling,T=y-w,E=m.canvasRight,N=k.scaleX,M=k.scaleY,_=m.vScrollEnabled,B=v.yAxis[0],V=_?D.config.conf.width:0,O=this.getContainer();n=m.canvasLeft,o=m.canvasTop,i=m.canvasHeight,r=m.canvasWidth,s=v.canvas[0].config,C.viewPortMin=w,C.viewPortMax=y,C.scrollRatio=F/T,h=C.windowedCanvasWidth=b.getPixel(F),g=C.fullCanvasWidth=b.getPixel(y-w)-h,d=C.fullCanvasHeight=B.getAxisConfig("processTotalHeight"),c=C.windowedCanvasHeight=i,p=B.getAxisConfig("totalWidth"),u=B.getAxisConfig("totalVisiblelWidth"),l=1/M,f=O.scrollBarParentGroup,!1!==m.hScrollEnabled&&(t=P.config,P.setDimension({x:n,y:o+i,width:r-V}),t.scrollRatio=1/N,t.scrollPosition=A.scrollPosition=k.x*N/(r*(N-1)),t.roundEdges=s.isRoundEdges,t.fullCanvasWidth=g,t.windowedCanvasWidth=h,t.parentLayer=f),!1!==_&&S&&(e=D.config,D.setDimension({x:E-V,y:o,height:i}),e.scrollRatio=l,e.roundEdges=s.isRoundEdges,e.fullCanvasWidth=d,e.windowedCanvasWidth=c,e.parentLayer=f),u<p&&u>0&&(a=L.config,L.setDimension({x:n-u,y:o+i,width:u}),a.scrollRatio=u/p,a.roundEdges=s.isRoundEdges,a.fullCanvasWidth=g,a.windowedCanvasWidth=h,a.parentLayer=f)},a._setAxisScale=function(){var t,e,a,n,o,i=this.getChildren(),r=this.config,s=i.xAxis[0],l=s.getLimit(),c=l.max,d=l.min,h=new Date(d),g=i.yAxis[0],p=this.getFromEnv("number-formatter"),u=Number(r.ganttpaneduration),f=r.scrollOptions||(r.scrollOptions={}),b=r.ganttpanedurationunit,x=c-d,k=r.canvasHeight,C=r.scrolltodate,y=r.canvasWidth,w=r.canvasLeft,F=this.getChildren("hProcessScrollBar")[0],P=this.getChildren("hScrollBar")[0],A=this.getChildren("vScrollBar")[0],D=P&&P.config&&P.config.height||0,L=F&&F.config&&F.config.height||0,S=s.getPixel(c)-w,T=g.getAxisConfig("processTotalHeight");if(r.hScrollEnabled){switch(b){case"y":h.setFullYear(h.getFullYear()+u);break;case"m":h.setMonth(h.getMonth()+u);break;case"d":h.setDate(h.getDate()+u);break;case"h":h.setHours(h.getHours()+u);break;case"mn":h.setMinutes(h.getMinutes()+u);break;default:h.setSeconds(h.getSeconds()+u)}h=h.getTime(),o=s.getPixel(h)-w,r.hScrollEnabled=!0,r.viewPortConfig.scaleX=t=S/o,f.horizontalVxLength=x/void 0*u,C&&(e=p.getDateValue(C).ms,a=s.getPixel(e),r.viewPortConfig.x=v(a-w,y*(t-1))/t),r.scrollPos>=0&&(r.xOffset=r.currentCanvasWidth*(t-1)*r.scrollPos,r.viewPortConfig.x=r.xOffset/t)}else P.remove();g.getAxisConfig("totalWidth")>g.getAxisConfig("totalVisiblelWidth")?r.hProcessScrollEnabled=!0:(r.hProcessScrollEnabled=!1,F.remove()),n=k-m(r.hProcessScrollEnabled?L:0,r.hScrollEnabled?D:0),Math.floor(T)>n&&r.useverticalscrolling?(r.viewPortConfig.scaleY=T/n,r.vScrollEnabled=!0):(r.vScrollEnabled=!1,A.remove())},a._createToolBoxGantt=function(){var t,e,a,n,o,i=this,r=i.getChildren("hScrollBar")&&i.getChildren("hScrollBar")[0],s=i.getChildren("vScrollBar")&&i.getChildren("vScrollBar")[0],l=i.getChildren("hProcessScrollBar")&&i.getChildren("hProcessScrollBar")[0],c=i.getChildren(),d=c.yAxis[0],h=i._scrollBar,g=c.chartMenuBar||{},u=c.actionBar,f=h.get,m=h.add;g.drawn||u&&u.drawn||(h.clear(),m({isHorizontal:!0,scale:1,scrollPosition:0},{scroll:(o=i,function(){o.updateManagerH(arguments[0],!0)}),scrollStart:function(e){t=e,i.fireChartInstanceEvent("scrollstart",{scrollPosition:e})},scrollEnd:function(e){i.fireChartInstanceEvent("scrollend",{scrollPosition:e,prevScrollPosition:t})}}),m({isHorizontal:!1,scale:1,scrollPosition:0},{scroll:function(t,e){return function(){t.updateManagerV(arguments[0],!1)}}(i),scrollStart:function(e){t=e,i.fireChartInstanceEvent("scrollstart",{scrollPosition:e})},scrollEnd:function(e){i.fireChartInstanceEvent("scrollend",{scrollPosition:e,prevScrollPosition:t})}}),m({isHorizontal:!0,scale:1,scrollPosition:0},{scroll:function(){d.manageProcessScroll(arguments[0])},scrollStart:function(e){t=e,i.fireChartInstanceEvent("scrollstart",{scrollPosition:e})},scrollEnd:function(e){i.fireChartInstanceEvent("scrollend",{scrollPosition:e,prevScrollPosition:t})}}),e=f()[0],n=f()[1],a=f()[2],r||(r=i.attachChild(new p.ScrollBar,"hScrollBar")),r.configure(e.conf),r.attachEventHandlers(e.handler),s||(s=i.attachChild(new p.ScrollBar,"vScrollBar")),s.configure(n.conf),s.attachEventHandlers(n.handler),l||(l=i.attachChild(new p.ScrollBar,"hProcessScrollBar")),l.configure(a.conf),l.attachEventHandlers(a.handler))},a._manageScrollbarPosition=function(){var t,e,a,n=this.config,o=this.getChildren("hScrollBar")[0],i=this.getChildren("vScrollBar")[0],r=this.getChildren("hProcessScrollBar")[0],s=n.totalWidth||0,l=n.totalHeight||0;this._setAxisScale&&this._setAxisScale(),o=this.getChildren("hScrollBar")[0],i=this.getChildren("vScrollBar")[0],r=this.getChildren("hProcessScrollBar")[0],e=n.vScrollEnabled,t=n.hScrollEnabled,a=o.getLogicalSpace(),n.hScrollHeight=!1===t?0:a.height+i.config.padding,a=i.getLogicalSpace(),n.vScrollWidth=!1!==e?a.width+i.config.conf.padding:0,a=r.getLogicalSpace(),n.hProcessScrollHeight=n.hProcessScrollEnabled?a.height+r.config.padding:0,l+=m(n.hProcessScrollHeight,n.hScrollHeight),this._allocateSpace({bottom:m(n.hProcessScrollHeight,n.hScrollHeight)}),n.totalWidth=s,n.totalHeight=l},a.updateManagerH=function(t){var e,a=this.config,n=a.lastXpos||(a.lastXpos={x:0,y:0}),o=this.config.viewPortConfig,i=this.getFromEnv("animationManager"),r=o.scaleX,s=this.getChildren().xAxis[0],l=this.getChildContainer(),c=l.plotGroup,d=this.getChildContainer("datalabelsGroup"),h=l.datalabelsGroup,g=l.trackerGroup,p=a.xOffset,u=a.yOffset||0,f=a.currentCanvasWidth,m=s.getContainer("ganttPlotLineContainer");a.scrollPos=t,p=a.xOffset=f*(r-1)*t,s.translateAxis(-p,void 0),n.x=-p,e="t"+-p+", "+-u,i.setAnimation({el:c,attr:{transform:e},component:this}),i.setAnimation({el:h,attr:{transform:e},component:this}),i.setAnimation({el:g,attr:{transform:e},component:this}),i.setAnimation({el:d,attr:{transform:e},component:this}),i.setAnimation({el:m,attr:{transform:"t"+-p+", 0"},component:this})},a.updateManagerV=function(t){var e,a=this.config,n=this.getFromEnv("animationManager"),o=a.xOffset,i=this.config.viewPortConfig,r=this.getChildren().yAxis[0],s=a.yOffset,l=a.canvasHeight,c=i.scaleY,d=this.getChildContainer("datalabelsGroup"),h=r.getContainer("labelContainer"),g=this.getChildContainer("plotGroup"),p=r.getContainer("ganttPlotHoverBandContainer"),u=r.getContainer("ganttPlotLineContainer");s=a.yOffset=l*(c-1)*t,i.y=s/c,e=r.config.lastTranslate||(r.config.lastTranslate={x:0,y:0}),n.setAnimation({el:h,attr:{transform:"t"+e.x+", "+-s},component:this}),n.setAnimation({el:p,attr:{transform:"t0, "+-s},component:this}),n.setAnimation({el:g,attr:{transform:"t"+-o+", "+-s},component:this}),n.setAnimation({el:d,attr:{transform:"t"+-o+", "+-s},component:this}),n.setAnimation({el:u,attr:{transform:"t0, "+-s},component:this})},e}(r["default"]);e["default"]=x},1588:function(t,e,a){"use strict";var n=a(273);e.__esModule=!0,e["default"]=function(t){var e;(0,i.componentFactory)(t,o["default"],"canvas",1),e=t.getChildren("canvas");for(var a=0,n=e.length;a<n;a++)e[a].configure()};var o=n(a(1589)),i=a(278)},1589:function(t,e,a){"use strict";var n=a(273);e.__esModule=!0,e["default"]=void 0;var o=n(a(292)),i=n(a(526)),r=a(278),s=function(t){function e(){return t.apply(this,arguments)||this}(0,o["default"])(e,t);var a=e.prototype;return a.createGroup=function(){t.prototype.createGroup.call(this);var e,a=this.getFromEnv("chart"),n=a.config,o=n.style.inCanvasStyle,i=this.getFromEnv("animationManager"),s=a.getChildContainer("plotGroup");!this.getChildContainer("taskGroup")&&this.addChildContainer("taskGroup",i.setAnimation({el:"group",attr:{name:"task"},container:s,component:this})),!this.getChildContainer("connectorGroup")&&this.addChildContainer("connectorGroup",i.setAnimation({el:"group",attr:{name:"connector"},container:s,component:this})),!this.getChildContainer("milestoneGroup")&&this.addChildContainer("milestoneGroup",i.setAnimation({el:"group",attr:{name:"milestone"},container:s,component:this})),e=n.milestoneLabelStyle={fontSize:(0,r.pluckNumber)(n.milestonefontsize,this.computeFontSize(o.fontSizeWithUnit))+"px",fontFamily:(0,r.pluck)(n.milestonefont,o.fontFamily),fontWeight:(0,r.pluckNumber)(n.milestonefontbold,0)?"bold":"normal",fontStyle:(0,r.pluckNumber)(n.milestonefontitalic,0)?"italic":"normal"},(0,r.setLineHeight)(e),this.getChildContainer("milestoneGroup").css(e)},a.draw=function(){t.prototype.draw.call(this),this.setClipping()},a.setClipping=function(){var t,e=this.getFromEnv("chart"),a=e.config,n=this.getChildContainer("taskGroup"),o=this.getChildContainer("connectorGroup"),i=e.getChildContainer(),r=i.plotGroup,s=i.datalabelsGroup,l=i.trackerGroup,c=a.viewPortConfig,d=c.scaleX,h=c.x,g=this.getFromEnv("animationManager"),p=e.getChildren("canvas")[0].config.clip["clip-canvas"].slice(0);g.setAnimation({el:r,attr:{"clip-rect":p},state:e.config.clipSet?"updating":"appearing",component:this}),g.setAnimation({el:s,attr:{"clip-rect":p},state:e.config.clipSet?"updating":"appearing",component:this}),g.setAnimation({el:l,attr:{"clip-rect":p},state:e.config.clipSet?"updating":"appearing",component:this}),a.xOffset=t=h*d,g.setAnimation({el:r,attr:{transform:"T"+-t+",0"},component:this}),g.setAnimation({el:n,attr:{transform:"T"+-t+",0"},component:this}),g.setAnimation({el:o,attr:{transform:"T"+-t+",0"},component:this}),g.setAnimation({el:s,attr:{transform:"T"+-t+",0"},component:this}),g.setAnimation({el:l,attr:{transform:"T"+-t+",0"},component:this}),e.config.clipSet=!0},a.drawCanvas=function(){var t,e,a,n,o=this.getFromEnv("chart"),i=o.getFromEnv("dataSource").chart,s=o.config,l=this.getFromEnv("animationManager"),c=this.config,d=c.clip={},h=this.getGraphicalElement("canvasBorderElement"),g=this.getGraphicalElement("canvasElement"),p=s.actualCanvasLeft,u=s.actualCanvasTop,f=s.canvasWidth,m=s.canvasHeight,v=s.canvasLeft,b=s.canvasTop,x=s.canvasWidth+s.totalWidth,k=s.canvasHeight+s.totalHeight,C=this.getContainer("canvasGroup"),y=c.canvasBorderRadius,w=c.canvasBorderWidth,F=.5*w,P=c.canvasBorderColor,A=c.canBGColor,D=c.shadow,L=c.showCanvasBG=Boolean((0,r.pluckNumber)(i.showcanvasbg,1)),S=c.shadowOnCanvasFill;a=A,n={x:p-F,y:u-F,width:x+w,height:k+w,r:y,"stroke-width":w,stroke:P,"stroke-linejoin":w>2?"round":"miter"},c.showCanvasBorder?(t=l.setAnimation({el:h||"rect",attr:n,container:C,component:this}),h?t.show():t=this.addGraphicalElement("canvasBorderElement",t),t.shadow(D)):h&&h.hide(),d["clip-canvas"]=[Math.max(0,v),Math.max(0,b),Math.max(1,f),Math.max(1,m)],d["clip-canvas-init"]=[Math.max(0,v),Math.max(0,b),1,Math.max(1,m)],L?(n={x:p,y:u,width:x,height:k,r:y,"stroke-width":0,stroke:"none",fill:(0,r.toRaphaelColor)(a)},e=l.setAnimation({el:g||"rect",attr:n,component:this,container:C}),g?e.show():e=this.addGraphicalElement("canvasElement",e),e.shadow(S)):g&&g.hide()},e}(i["default"]);e["default"]=s},1590:function(t,e,a){"use strict";var n=a(273);e.__esModule=!0,e["default"]=function(t){var e,a,n=t.getChildren("canvas")[0],s={zoomable:!0,pannable:!0},l=t._feedAxesRawData();(0,o.componentFactory)(t,r["default"],"xAxis",1,l.xAxisConf),(0,o.componentFactory)(t,i["default"],"yAxis",1,l.yAxisConf),e=t.getChildren("yAxis")[0],a=t.getChildren("xAxis")[0],e.setLinkedItem("canvas",n),a.setLinkedItem("canvas",n),n.attachAxis(a,!1,t.zoomX?s:{}),n.attachAxis(e,!0,t.zoomY?s:{}),t._setCategories()};var o=a(278),i=n(a(1591)),r=n(a(1595))},1591:function(t,e,a){"use strict";var n=a(273);e.__esModule=!0,e["default"]=void 0;var o=n(a(292)),i=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{"default":t};var a=s(e);if(a&&a.has(t))return a.get(t);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if("default"!==i&&Object.prototype.hasOwnProperty.call(t,i)){var r=o?Object.getOwnPropertyDescriptor(t,i):null;r&&(r.get||r.set)?Object.defineProperty(n,i,r):n[i]=t[i]}n["default"]=t,a&&a.set(t,n);return n}(a(1592)),r=a(278);function s(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,a=new WeakMap;return(s=function(t){return t?a:e})(t)}var l=function(t){function e(){return t.apply(this,arguments)||this}(0,o["default"])(e,t);var a=e.prototype;return a.getName=function(){return"GanttProcess"},a.configure=function(e){var a=this.config,n=this.getFromEnv("color-manager"),o=this.getFromEnv("dataSource").chart;t.prototype.configure.call(this,e),a.lineColor=(0,r.convertColor)((0,r.pluck)(o.gridbordercolor,n.getColor("gridColor")),(0,r.pluckNumber)(o.gridborderalpha,100)),a.lineThickness=(0,r.pluckNumber)(o.gridborderthickness,1),a.lineDashStyle=(0,r.pluckNumber)(o.gridborderdashed,0)?(0,r.getDashStyle)((0,r.pluckNumber)(o.gridborderdashlen,1),o.gridborderdashgap,a.lineThickness):"none",a.plotLineColor=(0,r.convertColor)((0,r.pluck)(o.ganttlinecolor,n.getColor("gridColor")),(0,r.pluckNumber)(o.ganttlinealpha,100)),a.plotLineThickness=(0,r.pluckNumber)(o.ganttlinethickness,1),a.plotLineDashStyle=(0,r.pluckNumber)(o.ganttlinedashed,0)?(0,r.getDashStyle)((0,r.pluckNumber)(o.ganttlinedashlen,1),o.ganttlinedashgap,a.lineThickness):"none",a.gridResizeBarColor=(0,r.convertColor)((0,r.pluck)(o.gridresizebarcolor,n.getColor("gridResizeBarColor")),(0,r.pluckNumber)(o.gridresizebaralpha,100)),a.gridResizeBarThickness=(0,r.pluckNumber)(o.gridresizebarthickness,1),a.forceRowHeight=(0,r.pluckNumber)(o.forcerowheight,0),a.rowHeight=(0,r.pluckNumber)(o.rowheight,0),a.hoverColor=(0,r.pluck)(o.processhoverbandcolor,o.hoverbandcolor,n.getColor("gridColor")),a.hoverAlpha=(0,r.pluckNumber)(o.processhoverbandalpha,o.hoverbandalpha,30),a.useHover=(0,r.pluckNumber)(o.showprocesshoverband,o.showhoverband,o.showhovereffect,1),a.usePlotHover=(0,r.pluckNumber)(o.showganttpanehorizontalhoverband),a.showFullDataTable=(0,r.pluckNumber)(o.showfulldatatable,1),a.forceGanttWidthPercent=(0,r.pluckNumber)(o.forceganttwidthpercent,0),a.useVerticalScrolling=(0,r.pluckNumber)(o.useverticalscrolling,1),a.gridLineHeaderPath="",a.gridLinePath=""},a.setProcess=function(t){var e,a,n,o,s,l=this.config,c=l.startPad||0,d=l.endPad||0;if(l.processes={},t){for(l.hasProcess=1,a=l.processes.process=(0,r.extend2)({},t),(0,i.extractAttribToEnd)(a,{}),e=a.process.length,s=l.processes.processMap={},l.processes.processHeightMap={},n=0;n<e;n+=1)(o=a.process[n]).id&&(s[o.id.toLowerCase()]={catObj:o,index:n});this.setAxisRange({min:Number((0,r.toPrecision)(-c,10)),max:Number((0,r.toPrecision)(e-1+d,10)),tickInterval:Number((0,r.toPrecision)(1,10))})}else l.hasProcess=0},a.getProcessPositionByIndex=function(t){var e=this.config.processes.processHeightMap;return!!e[t]&&e[t]},a.getProcessPositionById=function(t){var e=this.config,a=e.processes&&e.processes.processMap[t],n=e.processes.processHeightMap;return!!a&&n[a.index]},a.setDataTable=function(t){var e=t,a=this.config;a.dataTables={},a.dataTables.dataTable={},e?(a.hasDataTables=1,(0,r.extend2)(a.dataTables.dataTable,e),e=a.dataTables.dataTable,(0,i.extractAttribToEnd)(e,{})):a.hasDataTables=0},a.setProcessHeight=function(){var t,e,a,n=this.config,o=this.getFromEnv("chart").config.canvasHeight,i=n.processes.process.process,s=n.processes.processHeightMap,l=n.processMaxHeight,c=0,d=n.forceRowHeight,h=n.rowHeight;for((l*i.length<o||0===n.useVerticalScrolling)&&(l=o/i.length),0===d?h&&h>l&&(l=h):l=h||l,a=0,e=i.length;a<e;a++)t=(0,r.pluckNumber)(i[a].height,l),s[a]={top:c,bottom:c+t,height:t},c+=t;return c},a.adjustWidth=function(){var t,e,a,n,o,i,s,l,c=this.config,d=c.totalWidth,h=d,g=0,p=!1;if(t=c.processVlineArr=[],h-=20*(c.hasDataTables&&c.dataTables&&c.dataTables.dataTable&&c.dataTables.dataTable.datacolumn?c.dataTables.dataTable.datacolumn.length+1:1),a=function(t){var e;return h+=20,e=t.match(/%/g)?(0,r.pluckNumber)(d*Number(t.replace(/%/g,"")/100),0):(0,r.pluckNumber)(t,0),h<20?e=20:e>h&&(e=h),h-=e,e},c.hasProcess&&(i=c.processes.process.process,"right"===c.processes.process.positioningrid&&(p=!0),n=g,g+=a((e=i._attrib).width||""+(e.rightPos-e.leftPos)),e.leftPos=n,e.rightPos=g,p?g=0:t.push({type:"process",ind:0,xPos:e.rightPos,left:e,leftLimit:e.leftPos+20})),c.hasDataTables)for(s in o=c.dataTables.dataTable.datacolumn)o.hasOwnProperty(s)&&"_attrib"!==s&&(n=g,g+=a((e=o[s]._attrib).width||""+(e.rightPos-e.leftPos)),e.leftPos=n,e.rightPos=g,(l=t[t.length-1])&&(l.right=e,l.rightLimit=e.rightPos-20),t.push({type:"dataTable",ind:s,xPos:e.rightPos,left:e,leftLimit:e.leftPos+20}));c.hasProcess&&(p?((e=i._attrib).rightPos=g+(e.rightPos-e.leftPos),e.leftPos=g,g+=e.rightPos-e.leftPos,(l=t[t.length-1])&&(l.right=e,l.rightLimit=e.rightPos-20)):t.pop()),c.totalWidth=g},a.placeAxis=function(t){var e,a,n,o,i,s,l,c,d,h,g,p,u,f,m,v,b=this.config,x=this.getFromEnv("chart"),k=x.getFromEnv("smartLabel"),C=b.labels.style,y=b.name.style,w=b.trend.trendStyle,F=0,P=0,A={left:0,right:0},D=0,L=!1,S=0,T=0,E=0;if(y.fontSize=this.computeFontSize(y.fontSizeWithUnit),y.lineHeight=(0,r.setLineHeight)(y),w.fontSize=this.computeFontSize(w.fontSizeWithUnit),w.lineHeight=(0,r.setLineHeight)(w),C.fontSize=this.computeFontSize(C.fontSizeWithUnit),C.lineHeight=(0,r.setLineHeight)(C),k.useEllipsesOnOverflow(x.config.useEllipsesWhenOverflow),k.setStyle({fontSize:C.fontSize,fontFamily:C.fontFamily,lineHeight:C.lineHeight,fontWeight:C.fontWeight}),(b.forceGanttWidthPercent||0===b.showFullDataTable)&&(E=t/((b.hasDataTables&&b.dataTables&&b.dataTables.dataTable&&b.dataTables.dataTable.datacolumn?b.dataTables.dataTable.datacolumn.length:0)+1)),b.hasProcess){for(p=b.processes.process.process,"right"===(l=b.processes.process).positioningrid&&(L=!0),l.headertext&&(l.drawLabel=(0,r.parseUnsafeString)(l.headertext),s=l._attrib,(c={fontFamily:(0,r.pluck)(s.headerfontfamily,C.fontFamily),fontSize:(0,r.pluck)(s.headerfontsize,this.computeFontSize(C.fontSizeWithUnit).toString()).replace(/px/i,"")+"px",fontWeight:(0,r.pluck)(1===Number(s.headerisbold)||"undefined"==typeof s.headerisbold?"bold":void 0,C.fontWeight),fontStyle:(0,r.pluck)(s.headerisitalic?"italic":void 0,C.fontStyle)}).lineHeight=(0,r.setLineHeight)(c),k.setStyle(c),(n=k.getOriSize(l.drawLabel)).width>P&&(F=n,P=n.width)),e=0,o=p.length;e<o;e++)s=(i=p[e])._attrib,i.drawLabel=(0,r.parseUnsafeString)(i.label||i.name),(c={fontFamily:(0,r.pluck)(s.fontfamily,C.fontFamily),fontSize:(0,r.pluck)(s.fontsize,this.computeFontSize(C.fontSizeWithUnit).toString()).replace(/px/i,"")+"px",fontWeight:(0,r.pluck)(s.isbold?"bold":void 0,C.fontWeight),fontStyle:(0,r.pluck)(s.isitalic?"italic":void 0,C.fontStyle)}).lineHeight=(0,r.setLineHeight)(c),k.setStyle(c),(n=k.getOriSize(i.drawLabel)).width>P&&(F=n,P=n.width),n.height>T&&(T=n.height);b.processMaxHeight=T+8,p._attrib.leftPos=D,L?S=E||F.width+4:D+=E||F.width+4,p._attrib.rightPos=D}if(b.hasDataTables)for(e in d=b.dataTables.dataTable.datacolumn)if(d.hasOwnProperty(e)&&"_attrib"!==e){for(u in P=0,(h=d[e]).headertext&&(s=h._attrib,h.drawLabel=(0,r.parseUnsafeString)(h.headertext),(m={fontFamily:(0,r.pluck)(s.headerfontfamily,C.fontFamily),fontSize:(0,r.pluck)(s.headerfontsize,this.computeFontSize(C.fontSizeWithUnit).toString()).replace(/px/i,"")+"px",fontWeight:(0,r.pluck)(1===Number(s.headerisbold)||"undefined"==typeof s.headerisbold?"bold":void 0,C.fontWeight),fontStyle:(0,r.pluck)(s.headerisitalic?"italic":void 0,C.fontStyle)}).lineHeight=(0,r.setLineHeight)(m),k.setStyle(m),(n=k.getOriSize(h.drawLabel)).width>P&&(v=n,P=n.width)),g=h.text)g.hasOwnProperty(u)&&"_attrib"!==u&&((a=g[u]).drawLabel=(0,r.parseUnsafeString)(a.label||a.name),f=a._attrib,(m={fontFamily:(0,r.pluck)(f.fontfamily,C.fontFamily),fontSize:(0,r.pluck)(f.fontsize,this.computeFontSize(C.fontSizeWithUnit).toString()).replace(/px/i,"")+"px",fontWeight:(0,r.pluck)(f.isbold?"bold":void 0,C.fontWeight),fontStyle:(0,r.pluck)(f.isitalic?"italic":void 0,C.fontStyle)}).lineHeight=(0,r.setLineHeight)(m),k.setStyle(m),(n=k.getOriSize(a.drawLabel)).width>P&&(v=n,P=n.width));d[e]._attrib.leftPos=D,D+=E||v.width+4,d[e]._attrib.rightPos=D}return b.hasProcess&&L&&(p._attrib.leftPos+=D,p._attrib.rightPos+=D+S,D+=S),b.totalWidth=D,this.adjustWidth(),D=b.totalWidth>t?t:b.totalWidth,b.totalVisiblelWidth=D,A.left+=D,A},a.getProcessLen=function(){return this.config.processes.process.process.length},a._drawProcessAndDataTable=function(){var t,e,a,n,o,i,r,s,l,c,d,h,g=this.config,p=this.getFromEnv("chart"),u=(g.axisDimention||{}).x,f=g.totalWidth||0,m=g.gridArr||(g.gridArr=[]),v=p.getChildren("canvas")[0],b=p.config,x=p.getFromEnv("animationManager"),k=v.canvasTop||b.canvasTop,C=v.canvasLeft||b.canvasLeft,y=v.canvasHeight||b.canvasHeight,w=v.canvasWidth||b.canvasWidth,F=p.getChildContainer("axisBottomGroup"),P=g.totalVisiblelWidth,A=0,D=0,L=this.getContainer("ganttPlotHoverBandContainer"),S=this.getContainer("ganttPlotLineContainer"),T=this.getContainer("headerContainer"),E=this.getContainer("headerBackContainer"),N=this.getContainer("headerLineContainer"),M=this.getContainer("headerTextContainer"),_=this.getContainer("labelContainer"),B=this.getContainer("labelBackContainer"),V=this.getContainer("labelLineContainer"),O=this.getContainer("labelTextContainer"),H=this.getContainer("hotContainer");if(h=this.getContainer("ganttPlotHoverBandContainerParent")||this.addContainer("ganttPlotHoverBandContainerParent",x.setAnimation({el:"group",attr:{name:"gantt-plot-band-container-parent"},container:F,component:this})),this.addContainer("ganttPlotHoverBandContainer",x.setAnimation({el:L||"group",attr:{name:"gantt-plot-band-container","clip-rect":C+","+k+","+w+","+y},container:h,component:this})),this.addContainer("ganttPlotLineContainer",x.setAnimation({el:S||"group",attr:{name:"gantt-plot-line-container","clip-rect":C+","+k+","+w+","+y},container:F,component:this})),d={name:"gantt-header-container","clip-rect":C-g.totalVisiblelWidth+","+(k-b.categorySpaceUsed)+","+g.totalVisiblelWidth+","+b.categorySpaceUsed},g.isDraged?delete d.transform:d.transform="t0,0",T=this.addContainer("headerContainer",x.setAnimation({el:T||"group",attr:d,container:F,component:this})),E||(E=this.addContainer("headerBackContainer",x.setAnimation({el:"group",attr:{name:"gantt-header-back-container"},container:T,component:this}))),N||(N=this.addContainer("headerLineContainer",x.setAnimation({el:"group",attr:{name:"gantt-header-line-container"},container:T,component:this}))),M||(M=this.addContainer("headerTextContainer",x.setAnimation({el:"group",attr:{name:"gantt-header-text-container"},container:T,component:this}))),c={name:"gantt-label-container","clip-rect":C-g.totalVisiblelWidth+","+k+","+g.totalVisiblelWidth+","+y},g.isDraged?delete c.transform:c.transform="t0,0",_=this.addContainer("labelContainer",x.setAnimation({el:_||"group",attr:c,component:this,container:F})),B||(B=this.addContainer("labelBackContainer",x.setAnimation({el:"group",attr:{name:"gantt-label-back-container"},container:_,component:this}))),V||(V=this.addContainer("labelLineContainer",x.setAnimation({el:"group",attr:{name:"gantt-label-line-container"},container:_,component:this}))),O||(O=this.addContainer("labelTextContainer",x.setAnimation({el:"group",attr:{name:"gantt-label-text-container"},container:_,component:this}))),this.addContainer("hotContainer",x.setAnimation({el:H||"group",attr:{name:"gantt-hot-container","clip-rect":C-g.totalVisiblelWidth+","+(k-b.categorySpaceUsed)+","+g.totalVisiblelWidth+","+(y+b.categorySpaceUsed)},component:this,container:p.getContainer("parentgroup")})),g.gridLinePath="",g.gridLineHeaderPath="",g.hoverElemsArr=[],g.labelHoverEventName={click:"ProcessClick",rollOver:"ProcessRollOver",rollOut:"ProcessRollOut"},g.hasProcess)for(e=g.processes.process.process,r={elem:g.processes.process,elemIndex:A,dimension:{left:u-f+e._attrib.leftPos,right:u-f+e._attrib.rightPos,top:k-b.categorySpaceUsed,bottom:k},type:"header"},this._drawProcessAndDataTableElement(r),A+=1,m=g.gridArr=[],t=0,a=e.length;t<a;t++)s=this.getProcessPositionByIndex(t),r={elem:e[t],elemIndex:A,pos:t,dimension:{left:u-f+e._attrib.leftPos,right:u-f+e._attrib.rightPos,top:k+s.top,bottom:k+s.bottom},type:"process"},this._drawProcessAndDataTableElement(r),A+=1,m.push({y:r.dimension.bottom});if(g.hasDataTables){for(t in n=g.dataTables.dataTable.datacolumn)if(n.hasOwnProperty(t)&&"_attrib"!==t)for(i in D=0,r={elem:n[t],elemIndex:A,pos:t,dimension:{left:u-f+n[t]._attrib.leftPos,right:u-f+n[t]._attrib.rightPos,top:k-b.categorySpaceUsed,bottom:k},type:"header"},this._drawProcessAndDataTableElement(r),A+=1,o=n[t].text){if(D>=a)break;o[i]._attrib&&e[i]&&e[i]._attrib&&(o[i]._attrib.hoverbandcolor=e[i]._attrib.hoverbandcolor,o[i]._attrib.hoverbandalpha=e[i]._attrib.hoverbandalpha,o[i]._attrib.showhoverband=e[i]._attrib.showhoverband),o.hasOwnProperty(i)&&"_attrib"!==i&&(s=this.getProcessPositionByIndex(i),r={elem:o[i],elemIndex:A,pos:i,dimension:{left:u-f+n[t]._attrib.leftPos,right:u-f+n[t]._attrib.rightPos,top:k+s.top,bottom:k+s.bottom},type:"datatable"},D++,this._drawProcessAndDataTableElement(r),A+=1)}g.drawFromProcessVlineDrag?g.drawFromProcessVlineDrag=!1:f>P?(l=f-P,this.resetTransletAxis(),this.translateAxis(l,void 0)):this.resetTransletAxis()}this._drawGridLine(),this._disposeExtraProcessAndDataTableElement(A)},a._drawVerticalLineAndTracker=function(){var t,e,a,n,o,i,s,l,c,d=this,h=d.config,g=d.getFromEnv("chart"),p=h.canvas,u=g.config,f=(h.axisDimention||{}).x,m=h.totalWidth||0,v=p.canvasTop||u.canvasTop,b=d.components.processVline||(d.components.processVline=[]),x=h.processVlineArr,k=d.getContainer("hotContainer"),C=d.getFromEnv("animationManager"),y=0,w=function(){var t=this.data("drag-options");t.origX=t.lastX||(t.lastX=0),t.vHoverLine.show(),g.trackerClicked=!0,t.draged=!1},F=function(t){var e,a=this.data("drag-options"),n=a.vLineSetting,o="string"==typeof t.data?+t.data.substr(0,t.data.indexOf(",")):t.data[0]||0,i=n.xPos+o,r=n.leftLimit,s=n.rightLimit;i<r&&(o=r-n.xPos),i>s&&(o=s-n.xPos),e={transform:"t"+(a.origX+o)+",0"},this.attr(e),a.vHoverLine.attr(e),a.draged=!0,a.lastX=o},P=function(){var t,e=this.data("drag-options"),a=e.vLineSetting,n=e.vLineIndex;g.trackerClicked=!1,e.vHoverLine.hide(),e.draged&&(h.isDraged=!0,a.left.rightPos+=e.lastX||0,a.right.leftPos+=e.lastX||0,a.xPos+=e.lastX||0,x[n-1]&&(x[n-1].rightLimit+=e.lastX||0),x[n+1]&&(x[n+1].leftLimit+=e.lastX||0),h.drawFromProcessVlineDrag=!0,d._drawProcessAndDataTable(),d._drawVerticalLineAndTracker(),t={transform:"t0,0"},this.attr(t),e.vHoverLine.attr(t))};for(i={stroke:h.gridResizeBarColor,"stroke-width":h.gridResizeBarThickness},s={stroke:r.TRACKER_FILL,"stroke-width":30},o=v-u.categorySpaceUsed,t=0,e=x.length;t<e;t+=1)a=["M",l=f-m+("process"===x[t].type?h.processes.process.process:h.dataTables.dataTable.datacolumn[x[t].ind])._attrib.rightPos,o,"L",l,v+h.processTotalHeight],b[y]?((c=b[y].graphics.vHoverLine).attr({path:a}).attr(i),(n=b[y].graphics.hotElement).attr({path:a}).attr(s)):(i.path=a,c=C.setAnimation({el:"path",container:k,component:d,attr:i}),s.path=a,n=C.setAnimation({el:"path",container:k,component:d,attr:s}),b[y]={},b[y].graphics={},b[y].config={},b[y].graphics.vHoverLine=c,b[y].graphics.hotElement=n),n.show(),c.hide(),n.css("cursor",r.hasSVG?"ew-resize":"e-resize").drag(F,w,P).data("drag-options",{vHoverLine:b[y].graphics.vHoverLine,vLineSetting:x[t],vLineIndex:t}),y+=1;for(t=y,e=b.length;t<e;t+=1)b[t].graphics.vHoverLine.attr({path:["M",0,0]}),b[t].graphics.hotElement.attr({path:["M",0,0]})},a._drawComponents=function(){var t=this.config;t.isDraged=!1,this._drawProcessAndDataTable(),t.drawPlotlines&&this._drawPlotLine(),this._drawVerticalLineAndTracker(),this._drawGridLine()},e}(i["default"]);e["default"]=l},1592:function(t,e,a){"use strict";var n=a(273);e.__esModule=!0,e.extractAttribToEnd=function f(t,e){var a;for(a in t._attrib=(0,c.extend2)({},e),t._attrib=(0,c.extend2)(t._attrib,function(t){var e,a={};for(e in t)t.hasOwnProperty(e)&&"string"==typeof t[e]&&t[e]&&(a[e]=t[e]);return a}(t)),t)t.hasOwnProperty(a)&&t[a]&&"object"==typeof t[a]&&"_attrib"!==a&&f(t[a],t._attrib)},e["default"]=void 0;var o,i,r,s=n(a(292)),l=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{"default":t};var a=g(e);if(a&&a.has(t))return a.get(t);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if("default"!==i&&Object.prototype.hasOwnProperty.call(t,i)){var r=o?Object.getOwnPropertyDescriptor(t,i):null;r&&(r.get||r.set)?Object.defineProperty(n,i,r):n[i]=t[i]}n["default"]=t,a&&a.set(t,n);return n}(a(1593)),c=a(278),d=a(286),h=n(a(1594));function g(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,a=new WeakMap;return(g=function(t){return t?a:e})(t)}var p=function(t,e){var a;for(a=0;a<t.length;a++)if(t[a].id===e)return t[a];return!1};(0,d.addDep)({name:"ganttCommonAnimation",type:"animationRule",extension:h["default"]});var u=function(t){function e(){var e;return(e=t.call(this)||this).components={},e}(0,s["default"])(e,t);var a=e.prototype;return a.getName=function(){return"GanttCommon"},a._drawPlotLine=function(){var t,e,a,n,i=this.config,r=this.getFromEnv("chart"),s=r.getChildren("canvas")[0],l=r.config,c=this.getContainer("ganttPlotLineContainer"),d=s.canvasBottom||l.canvasBottom,h=s.canvasLeft||l.canvasLeft,g=s.canvasRight||l.canvasRight,p=s.canvasTop||l.canvasTop,u=this.getFromEnv("animationManager"),f=i.gridArr,m=this.getGraphicalElement("plotLine"),v=[];for(a=0,n=f.length;a<n;a+=1)f[a].x!==o?v.push("M",f[a].x,p,"L",f[a].x,d):v.push("M",h,f[a].y,"L",g,f[a].y);t={"stroke-dasharray":i.plotLineDashStyle,"stroke-width":i.plotLineThickness,stroke:i.plotLineColor,path:v},e=u.setAnimation({el:m&&m[0]||"path",attr:t,container:c,label:"path",component:this}),m&&m[0]||this.addGraphicalElement("plotLine",e,!0)},a._drawTrendLine=function(){var t,e,a,n,i,r,s,d,h,g,u,f,m,v,b,x,k,C,y,w,F=this.getComponentInfo("trend"),P=this.getFromEnv("toolTipController"),A=this.config,D=A.isOpposit,L=A.labelPadding,S=this.getFromEnv("chart"),T=S.getFromEnv("animationManager"),E=S.config,N=S.getChildren("canvas")[0],M=N.config.canvasTop+N.config.canvasHeight,_=N.config.canvasLeft||E.canvasLeft,B=N.config.canvasRight||E.canvasRight,V=N.config.canvasTop||E.canvasTop,O=A.drawTrendLabels,H=this.getGraphicalElement("trendlabels")||[],I=A.axisTrendContainerTop,R=A.axisTrendContainerBottom,W=A.axisDimention||{},G=this._isZoomed(),z=this.getVisibleConfig(),j=-1*E.xOffset,U=this.getGraphicalElement("trendElems"),X=this.getGraphicalElement("trendlabels"),K=A.trendLines,Y=A.vTrendLines;for(!U&&(U=[]),!X&&(X=[]),t=0;t<U.length;t++)(y=p(U,t))&&y.remove();if(Y?u=D?(W.opposite||M)-(A.trendBottomPadding||0):(W.y||M)+(A.trendBottomPadding||0):(u=D?(W.opposite||_)+(L||0):(W.x||_)-(L||0),f=D?(W.x||B)+(L||0):(W.opposite||B)+(L||0)),G&&(b=Math.max(this.getPixel(z.minValue,{wrtVisible:!0}),this.getPixel(z.maxValue,{wrtVisible:!0})),x=Math.min(this.getPixel(z.minValue,{wrtVisible:!0}),this.getPixel(z.maxValue,{wrtVisible:!0}))),K||Y)for(t=0;t<F.length;t++)e=F[t].marker,a=F[t].label,n={fill:e.fill||"",stroke:e.stroke||"","stroke-width":e.strokeWidth,"stroke-dasharray":e.strokeDashArray,"shape-rendering":e.shapeRendering},i={fill:a.fill||"",text:a.text,"text-anchor":a.textAnchor,"text-bound":a.textBound},s=e.isZone,h=e.startValue,g=e.endValue,Y?(r=this.getPixel(A.hasBreakPoints?this._getRelativeBreakValue(h):h,{wrtVisible:!0}),d=g?this.getPixel(A.hasBreakPoints?this._getRelativeBreakValue(g):g,{wrtVisible:!0}):0,r+=j,d+=j,i.y=u,i["vertical-align"]="top",g!==o&&""!==g&&g!==h&&s?(n.path=["M",r,V,"L",r,M,"L",d,M,"L",d,V,"Z"],i.x=r+(d-r)/2):(m=g?(0,l.getCrispPath)(["M",r,V,"L",d,M],e.strokeWidth):(0,l.getCrispPath)(["M",r,V,"L",r,M],e.strokeWidth),n.path=m.path,i.x=g?d:r),G&&(!O||i.x>b||i.x<x)?(i.text=c.BLANKSTRING,i.visibility="hidden"):i.visibility="visible"):K&&(r=this.getPixel(h,{wrtVisible:!0}),d=g?this.getPixel(g,{wrtVisible:!0}):0,C=a.valueOnRight,g!==o&&""!==g&&g!==h&&s?(n.path=["M",_,r,"L",B,r,"L",B,d,"L",_,d,"Z"],i.x=C?f:u,i.y=r+(d-r)/2):(m=g?(0,l.getCrispPath)(["M",_,r,"L",B,d,"Z"],e.strokeWidth):(0,l.getCrispPath)(["M",_,r,"L",B,r,"Z"],e.strokeWidth),n.path=m.path,i.x=C?f:u,i.y=g&&C?d:r),G&&(!O||i.y>b||i.y<x)?(i.text=c.BLANKSTRING,i.visibility="hidden"):i.visibility="visible"),k=F[t].showOnTop,v=S.config.is3D||1!==k&&1!==A.showTrendlinesOnTop?R:I,y=p(U,t),y=T.setAnimation({el:y||"path",attr:n,container:v,label:"path",component:this}).show(),(w=X[t])&&T.setAnimation({el:w,attr:i,label:"text",component:this}),!p(U,t)&&this.addGraphicalElement("trendElems",y,!0),y.id=t,""!==a.toolText?P.enableToolTip(y,a.toolText):P.disableToolTip(y);else for(t=0;t<U.length;t++)(y=p(U,t))&&(y.remove(),H[t]&&H[t].remove())},a._drawProcessAndDataTableStyleParser=function(t){var e,a,n,i,r,s,l,d,h,g,p,u,f,m,v,b,x,k,C,y,w,F=this.config,P=this.getFromEnv("chart"),A=this.getFromEnv("smartLabel"),D=this.getFromEnv("color-manager"),L=F.labels.style,S=t.elem||{},T=t.dimension,E=S._attrib||{},N=T.left,M=T.right,_=T.top,B=T.bottom;switch(t.type){case"category":case"datatable":case"process":e=(0,c.pluck)(E.font,L.fontFamily),a=(0,c.pluck)(E.fontsize,this.computeFontSize(L.fontSizeWithUnit).toString()).replace(/px/i,"")+"px",i=(0,c.pluck)(Number(E.isitalic)?"italic":o,L.fontStyle),r=(0,c.convertColor)((0,c.pluck)(E.bgcolor?(0,c.getFirstColor)(E.bgcolor):o,D.getColor("categoryBgColor")),(0,c.pluckNumber)(E.bgalpha,100)),f=(0,c.pluck)(E.fontcolor?(0,c.getFirstColor)(E.fontcolor):o,L.color),m=(0,c.pluckNumber)(E.isunderline,0)?"underline":"none",p=(0,c.pluck)(E.valign,"center").toLowerCase(),u=(0,c.pluck)(E.align,"middle").toLowerCase(),d=S.drawLabel||"",n=(0,c.pluck)(Number(E.isbold)?"bold":o,L.fontWeight),y=S.link;break;case"header":e=(0,c.pluck)(E.headerfont,L.fontFamily),a=(0,c.pluck)(E.headerfontsize,this.computeFontSize(L.fontSizeWithUnit).toString()).replace(/px/i,"")+"px",n=(0,c.pluck)(1===Number(E.headerisbold)||E.headerisbold===o?"bold":o,L.fontWeight),f=(0,c.pluck)(E.headerfontcolor?(0,c.getFirstColor)(E.headerfontcolor):o,L.color),m=(0,c.pluckNumber)(E.headerisunderline,0)?"underline":"none",i=(0,c.pluck)(E.headerisitalic?"italic":o,L.fontStyle),r=(0,c.convertColor)((0,c.pluck)(E.headerbgcolor?(0,c.getFirstColor)(E.headerbgcolor):o,D.getColor("categoryBgColor")),(0,c.pluckNumber)(E.headerbgalpha,100)),p=(0,c.pluck)(E.headervalign,"center").toLowerCase(),u=(0,c.pluck)(E.headeralign,"middle").toLowerCase(),d=S.drawLabel||"",y=S.headerlink}switch(t.type){case"category":F.gridLinePath+="M"+N+","+_+"L"+N+","+B+"L"+M+","+B,n=(0,c.pluck)(1===Number(E.isbold)||E.isbold===o?"bold":o,L.fontWeight);break;case"datatable":case"process":F.gridLinePath+="M"+N+","+B+"L"+M+","+B+"L"+M+","+_;break;case"header":F.gridLineHeaderPath+="M"+N+","+B+"L"+M+","+B+"L"+M+","+_}return v=(0,c.pluck)(S._attrib.hoverbandcolor,F.hoverColor),b=(0,c.pluckNumber)(S._attrib.hoverbandalpha,F.hoverAlpha),"left"===u?(s=N+2,u="start"):"right"===u?(s=N+(M-N)-2,u="end"):(u="middle",s=N+(M-N)/2),"top"===p?l=_-2:"bottom"===p?l=_+(B-_)-2:(p="middle",l=_+(B-_)/2),L={fontFamily:e,fontSize:a,fontWeight:n,fontStyle:i,textDecoration:m},w=(0,c.setLineHeight)(L),w=B-_>(w=Number(w.replace(/px/i,"")))?B-_:w,A.useEllipsesOnOverflow(P.config.useEllipsesWhenOverflow),A.setStyle(L),h={textAttr:{x:s,y:l,text:(g=A.getSmartText(d,M-N,w)).text,fill:f,"text-anchor":u,"vertical-align":p,cursor:y?"pointer":P.getFromEnv("paper").canvas.style.cursor},css:L,rectAttr:{x:N,y:_,width:N<M?M-N:0,height:_<B?B-_:0,fill:r,"stroke-width":0,cursor:y?"pointer":P.getFromEnv("paper").canvas.style.cursor},eventArgs:{isHeader:"header"===t.type,label:d,vAlign:p,align:u,link:y,id:S.id},tooltext:g.oriText},"datatable"===t.type||"process"===t.type||"category"===t.type?(C=(0,c.convertColor)(v,b),x=(0,c.pluckNumber)(S._attrib.showhoverband,F.useHover),k=(0,c.pluckNumber)(S._attrib.showganttpanehoverband,F.usePlotHover,x),h.dataArgs={rollOverColor:C,useHover:x,usePlotHover:k,dimension:T,hoverEle:S,type:t.type,pos:t.pos,axis:this,groupId:t.elemIndex}):h.dataArgs={rollOverColor:o,useHover:0,usePlotHover:0,dimension:T,hoverEle:S,type:t.type,pos:t.pos,axis:this,groupId:t.elemIndex},h},a._drawProcessAndDataTableElement=function(t){var e,a,n,o,s,l=this,c=l.config,d=l.getFromEnv("chart"),h=l.components.categoryElement||[],g=c.hoverElemsArr||(c.hoverElemsArr=[]),p=l.getFromEnv("animationManager"),u=t.elemIndex,f=c.labelHoverEventName,m=l.getFromEnv("toolTipController"),v=d.config.showtooltip,b=function(t){d.plotEventHandler(this,t,f.click)},x=function(t){r=clearTimeout(r),i&&!i.removed||(i=null),i&&l._gridOutHandler.call(i),l._gridHoverHandler.call(this),d.plotEventHandler(this,t,f.rollOver)},k=function(t){i=this,r=clearTimeout(r),r=setTimeout((function(){return l._gridOutHandler.call(i)}),500),d.plotEventHandler(i,t,f.rollOut)};"header"===t.type?(a=l.getContainer("headerBackContainer"),n=l.getContainer("headerTextContainer")):(a=l.getContainer("labelBackContainer"),n=l.getContainer("labelTextContainer")),e=l._drawProcessAndDataTableStyleParser(t),o=p.setAnimation({el:h[u]&&h[u].graphics.rect||"rect",attr:e.rectAttr,container:a,label:"rect",component:l}),s=p.setAnimation({el:h[u]&&h[u].graphics.label||"text",attr:e.textAttr,container:n,label:"text",component:l}),h[u]?(s.removeCSS(),a.appendChild(o),n.appendChild(s)):(l.addGraphicalElement("rectElement",o,!0),l.addGraphicalElement("textElement",s,!0),h[u]={},h[u].graphics={},h[u].config={},h[u].graphics.label=s,h[u].graphics.rect=o,o.hover(x,k).on("fc-click",b),s.hover(x,k).on("fc-click",b)),s.css(e.css),"header"!==t.type&&(g[t.pos]||(g[t.pos]=[]),g[t.pos].push({bgElem:o,bgColor:e.rectAttr.fill})),o.data("dataObj",t.elem).data("eventArgs",e.eventArgs).data("data",e.dataArgs),s.data("dataObj",t.elem).data("eventArgs",e.eventArgs).data("data",e.dataArgs),v?m.enableToolTip(s,e.tooltext):m.disableToolTip(s),l.components.categoryElement=h},a._drawGridLine=function(){var t,e,a,n,o=this.config,i=this.getFromEnv("animationManager"),r=this.getGraphicalElement("gridLine")||[],s=0,l=0,c=2;for(t={"stroke-dasharray":o.lineDashStyle,"stroke-width":o.lineThickness,stroke:o.lineColor};l<c;l+=1){if(0===l)a=o.gridLinePath,n=this.getContainer("labelLineContainer");else if(a=o.gridLineHeaderPath,n=this.getContainer("headerLineContainer"),!a)continue;t.path=a,e=i.setAnimation({el:r&&r[s]||"path",attr:t,container:n,label:"path",component:this}),(!r||!r[s])&&this.addGraphicalElement("gridLine",e,!0),s+=1}for(l=s,c=this.getGraphicalElement("gridLine").length;l<c;l+=1)this.getGraphicalElement("gridLine")[l].attr({path:"M0,0"})},a._gridHoverHandler=function(){var t,e,a,n=this.data("data"),o=n.type,i=n.dimension,r=n.axis,s=r.getFromEnv("chart").config,l=r.getFromEnv("animationManager"),c=r.config.hoverElemsArr||[],d=r.getContainer("ganttPlotHoverBandContainer"),h=r.getGraphicalElement("plotHoverElement"),g=h?1:0;if(t="category"===o?{x:i.left,y:s.canvasTop,width:i.left<i.right?i.right-i.left:0,height:s.height,fill:n.rollOverColor,"stroke-width":0}:{y:i.top,x:s.canvasLeft,height:i.top<i.bottom?i.bottom-i.top:0,width:s.width,fill:n.rollOverColor,"stroke-width":0},n.usePlotHover&&(h=l.setAnimation({el:h||"rect",attr:t,component:r,label:"rect",container:d}),g?h.show():r.addGraphicalElement("plotHoverElement",h)),n.useHover&&c[n.pos])for(e=0,a=c[n.pos].length;e<a;e+=1)l.setAnimation({el:c[n.pos][e].bgElem||"rect",attr:{fill:n.rollOverColor},label:"rect"})},a._gridOutHandler=function(){var t,e,a,n=this.data("data"),o=n.axis,i=o.config.hoverElemsArr||[],r=o.getFromEnv("animationManager"),s=o.getGraphicalElement("plotHoverElement");if(n.usePlotHover&&s&&s.hide(),n.useHover&&i[n.pos])for(t=0,e=i[n.pos].length;t<e;t+=1)a=i[n.pos][t],r.setAnimation({el:a.bgElem||"rect",attr:{fill:a.bgColor},label:"rect"})},a._disposeExtraProcessAndDataTableElement=function(t){var e,a,n=this.components.categoryElement||[];for(e=t,a=n.length;e<a;e+=1)n[e].graphics.label.attr({text:""}),n[e].graphics.rect.attr({x:0,y:0,width:0,heigth:0})},e}(l["default"]);e["default"]=u},1593:function(t,e,a){"use strict";var n=a(273);e.__esModule=!0,e._drawScrollBar=v,e.getCrispPath=e["default"]=void 0;var o,i=n(a(292)),r=n(a(543)),s=n(a(544)),l=a(294),c=a(278),d=(0,a(286).getDep)("redraphael","plugin"),h=function(t,e){return parseInt(t,e||10)},g=function(t,e,a){return a.getFromEnv("animationManager").setAnimation({el:"group",attr:{name:t},container:e,state:"appearing",component:a,label:"group"})},p=function(t,e){var a;return void 0===e&&(e=0),0===e||0===(a=Math.abs(t)%e)?t:t<0?-(Math.abs(t)-a):t+e-a},u=function(t,e){return t<e?e:t},f=function(t){t.draw()};function m(t){var e=c.BLANKSTRING;return"trend"!==t&&"trends"!==t||(e="trend"),"catVLine"!==t&&"catVLines"!==t||(e="catVLine"),"label"!==t&&"labels"!==t||(e="labels"),"line"!==t&&"lines"!==t||(e="lines"),"band"!==t&&"bands"!==t||(e="band"),"catBand"!==t&&"catBands"!==t||(e="catBand"),e}function v(){var t,e,a,n,o,i,r,s,l,h,p,u,f,m,v,b,x=this,k=x.getFromEnv("chart"),C=k.config,y=k.graphics,w=x.config,F=w.axisRange,P=C.scrollOptions||(C.scrollOptions={}),A=F.max,D=F.min,L=x.getLinkedItem("scrollBar"),S=L&&L.config.node,T=k.getChildren("canvas")[0].config;L&&(t=T.canvasLeft,e=T.canvasTop,a=T.canvasHeight,n=T.canvasBorderWidth,o=w.showAxisLine&&w.axisLineThickness||0,i=(0,c.pluckNumber)(n,w.lineStartExtension),r=(0,c.pluckNumber)(n,w.lineEndExtension),P.viewPortMin=D,P.viewPortMax=A,s=(f=(u=x.getVisibleConfig()).maxValue-u.minValue)/(m=F.max-F.min),v=(u.minValue-F.min)/(m-f),l=P.windowedCanvasWidth=x.getPixel(P.vxLength),h=P.fullCanvasWidth=x.getPixel(A-D)-l,(p=y.scrollBarParentGroup)||(p=y.scrollBarParentGroup=g("scrollBarParentGroup",y.parentGroup).insertBefore(k.getChildContainer().datalabelsGroup)),!1!==w.scrollEnabled?(w.isVertical?L.draw(t,e,{height:a,scrollRatio:s,roundEdges:T.isRoundEdges,fullCanvasWidth:h,windowedCanvasWidth:l,scrollPosition:v,parentLayer:p}):L.draw(t-i,e+a+n+o-2,{width:T.canvasWidth+i+r,scrollRatio:s,roundEdges:T.isRoundEdges,fullCanvasWidth:h,windowedCanvasWidth:l,scrollPosition:v,parentLayer:p}),!S&&(d.eve.on("raphael.scroll.start."+L.config.node.id,(function(t){x.setState("scrolling",!0),b=t,k.fireChartInstanceEvent("scrollstart",{scrollPosition:t})})),d.eve.on("raphael.scroll.end."+L.config.node.id,(function(t){x.setState("scrolling",!1),k.fireChartInstanceEvent("scrollend",{prevScrollPosition:b,scrollPosition:t})})))):L&&L.node&&L.node.hide(),w.scrollBarDrawn=!0)}e.getCrispPath=function(t,e){var a,n,o=!1,i=e%2;return t[1]===t[4]&&(a=t[1],n=Math.round(a),t[1]=t[4]=i?n>a?n-.5:n+.5:n,o=!0),t[2]===t[5]&&(a=t[2],n=Math.round(a),t[2]=t[5]=i?n>a?n-.5:n+.5:n,o=!0),{path:t,isCrisped:o}};var b=function(t){function e(){var e;return(e=t.call(this)||this)._drawScrollBar=v,e}(0,i["default"])(e,t);var a=e.prototype;return a.getType=function(){return"axis"},a.getName=function(){return"cartesian"},a.__setDefaultConfig=function(){t.prototype.__setDefaultConfig.call(this);var e=this.config;e.setAdaptiveMin=0,e.adjustDiv=1,e.axisNameWidth=o,e.rotateAxisName=0,e.useEllipsesWhenOverflow=1,e.divLineColor=o,e.divLineAlpha=o,e.divLineThickness=o,e.divLineIsDashed=o,e.divLineDashLen=o,e.divLineDashGap=o,e.showAlternateGridColor=o,e.alternateGridColor=o,e.alternateGridAlpha=o,e.showZeroPlane=1,e.zeroPlaneAlpha=80,e.showZeroPlaneValue=1,e.showZeroPlaneOnTop=1,e.showAxisLine=o,e.axisLineThickness=o,e.axisLineAlpha=o,e.tickLength=o,e.trendlineToolText=o,e.trendlineColor="333333",e.trendlineThickness=1,e.trendlineAlpha=o,e.showTrendlinesOnTop=0,e.trendlinesAreDashed=0,e.trendlinesDashLen=5,e.trendlinesDashGap=2,e.isTrendZone=o,e.showTrendlines=1,e.showTrendlineLabels=1,e.showLabels=1,e.maxLabelHeight=o,e.rotateLabels=o,e.slantLabel=0,e.showAxisValues=1,e.showTooltip=1,e.isActive=!0,e.drawLabels=!0,e.drawOnlyCategoryLine=!1,e.drawLabelsOpposit=!1,e.drawPlotlines=!0,e.drawAxisLine=!0,e.drawPlotBands=!0,e.drawAxisName=!0,e.drawAxisNameOpposit=!1,e.axisNameAlignCanvas=!1,e.drawAxisNameFromBottom=!1,e.drawTrendLines=!0,e.drawTrendLabels=!0,e.drawTick=!0,e.drawTickMinor=!0,e.animateAxis=!0,e.drawAxisLineWRTCanvas=!0,e.isRelativeAxisInverse=!1,e.axisIndex=0,e.uniqueClassName=0,e.viewPortRatio={},e.canvas={},e.axisRange={},e.isConfigured=!0,e.axisDimention={},e.extremeLabels={firstLabel:{},lastLabel:{}},e._setRangeAgain=!1,e._defaultForceDecimal=o,e._defaultDecimalPrecision=o,e.rangeChanged=!1,e.dimensionChanged=!1,e.apparentScrollPos=0,this.addToEnv("componentInfo",{catVLine:[],trend:[],labels:[],lines:[],bands:[],catBand:[]})},a.configure=function(t){var e,a,n,i,r,s,l,d,g=this.config,p=this.getFromEnv("chart"),f=this.getFromEnv("chart").config.is3D,m=p.getFromEnv("dataSource").chart,v=this.getFromEnv("number-formatter"),b=this.getFromEnv("tempAxis");if(e=g.rawAttr=t,t.vtrendlines)for(r=0;r<t.vtrendlines.length;++r)for(s=0;s<t.vtrendlines[r].line.length;++s)l=e.vtrendlines[r].line[s],d=t.vtrendlines[r].line[s],l.startvalue=(0,c.pluckNumber)(d.startvalue,o),l.endvalue=(0,c.pluckNumber)(d.endvalue,d.startvalue),l.color=(0,c.pluck)(d.color,"FFFFFF"),l.istrendzone=(0,c.pluckNumber)(d.istrendzone,1),l.thickness=(0,c.pluckNumber)(d.thickness,1),l.trendTextAlpha=(0,c.pluckNumber)(d.alpha,g.trendlineAlpha,99),l.alpha=(0,c.pluckNumber)(d.alpha,40),l.tooltext=(0,c.pluck)(d.tooltext,"");if(t.trendlines)for(r=0;r<t.trendlines.length;++r)for(s=0;s<t.trendlines[r].line.length;++s)l=e.trendlines[r].line[s],d=t.trendlines[r].line[s],l.startvalue=(0,c.pluckNumber)(d.startvalue,o),l.endvalue=(0,c.pluckNumber)(d.endvalue,d.startvalue),l.color=(0,c.pluck)(d.color,"FFFFFF"),l.istrendzone=(0,c.pluckNumber)(d.istrendzone,1),l.thickness=(0,c.pluckNumber)(d.thickness,1),l.trendTextAlpha=(0,c.pluckNumber)(d.alpha,g.trendlineAlpha,99),l.alpha=(0,c.pluckNumber)(d.alpha,40),l.showOnTop=(0,c.pluckNumber)(d.showOnTop,1),l.valueOnRight=(0,c.pluckNumber)(d.valueOnRight,0);g.trendLines=e.trendlines,g.vTrendLines=e.vtrendlines,(0,c.parseConfiguration)(e,g),g.axisName=(0,c.parseUnsafeString)(e.axisName),g.axisValuePadding=g.axisNamePadding||(0,c.pluckNumber)(e.axisValuePadding,4),g.axisNamePadding=g.axisNamePadding||(0,c.pluckNumber)(e.axisNamePadding,5),g.maxLabelWidthPercent=(0,c.pluckNumber)(e.maxLabelWidthPercent),g.maxLabelWidthPercent=Math.abs(g.maxLabelWidthPercent),g.minLabelWidthPercent=Math.abs((0,c.pluckNumber)(e.minLabelWidthPercent)),g.numDivLines=(0,c.pluckNumber)(e.numDivLines,4),g.numDivLines=u(g.numDivLines,0),g.categoryNumDivLines=(0,c.pluckNumber)(e.numDivLines,0),g.axisValuePadding=u(g.axisValuePadding,0),g.isReverse=Number(e.isReverse,0),g.isOpposit=Number(e.isOpposit,0),g.isVertical=Number(e.isVertical,0),g.categoryDivLinesFromZero=1,g.axisMinValue=v.getCleanValue(e.axisMinValue),g.axisMaxValue=v.getCleanValue(e.axisMaxValue),g.zeroPlaneColor=(0,c.pluck)(e.zeroPlaneColor,e.divLineColor),g.zeroPlaneThickness=(0,c.pluck)(e.zeroPlaneThickness,e.divLineThickness),g.axisLineColor=(0,c.convertColor)(e.axisLineColor,e.axisLineAlpha),g.tickAlpha=(0,c.pluckNumber)(e.tickAlpha,g.axisLineAlpha),g.tickColor=(0,c.convertColor)((0,c.pluck)(e.tickColor,e.axisLineColor),g.tickAlpha),g.tickWidth=(0,c.pluckNumber)(e.tickWidth,g.axisLineThickness),g.maxZoomLimit=(0,c.pluckNumber)(m.maxzoomlimit,p.maxzoomlimit,1e3),g.showVLines=(0,c.pluckNumber)(m.showvlines,1),g.showVLinesOnTop=(0,c.pluckNumber)(m.showvlinesontop,0),g.showVLineLabels=(0,c.pluckNumber)(m.showvlinelabels,this.showVLineLabels,1),g.showVLineLabelBorder=(0,c.pluckNumber)(m.showvlinelabelborder,1),g.rotateVLineLabels=(0,c.pluckNumber)(m.rotatevlinelabels,0),g.vLineColor=(0,c.pluck)(m.vlinecolor,"333333"),g.vLineLabelColor=(0,c.pluck)(m.vlinelabelcolor),g.vLineThickness=(0,c.pluck)(m.vlinethickness,1),g.vLineAlpha=(0,c.pluckNumber)(m.vlinealpha,80),g.vLineLabelBgColor=(0,c.pluck)(m.vlinelabelbgcolor,"ffffff"),g.vLineLabelBgAlpha=(0,c.pluckNumber)(m.vlinelabelbgalpha,f?50:100),g.staggerLines=Math.max((0,c.pluckNumber)(m.staggerlines,2),2),g.staggerLines=u(g.staggerLines,1),g.trendlineValuesOnOpp=(0,c.pluck)(e.trendlineValuesOnOpp,e.trendlineValuesOnOpp,0),g.labelDisplay=(0,c.pluck)(e.labelDisplay,"auto").toLowerCase(),g.labelStep=(0,c.pluckNumber)(e.labelStep,0),g.labelStep=Math.round(g.labelStep),g.labelStep=u(g.labelStep,0),g.startPad=0,g.endPad=0,g._oriLabelStep=g.labelStep,g.showLimits=(0,c.pluckNumber)(e.showLimits,g.showAxisValues),g.showUpperLimit=e.showLimits,g.showDivLineValues=(0,c.pluckNumber)(e.showDivLineValues,g.showAxisValues),g.showCanvasBorder=p.getChildren("canvas")[0].config.showCanvasBorder?1:0,g.axisBreak=e.axisBreaks,g.isBreak=!!g.axisBreak,g.isBreak&&this._processAxisBreak(),a=(a=(0,c.getFirstValue)(e.axisNameBorderColor,c.BLANKSTRING))?(0,c.convertColor)(a,(0,c.pluckNumber)(e.axisNameBorderAlpha,e.axisNameAlpha,100)):c.BLANKSTRING,g.name=g.name||{},g.name.style={fontFamily:(0,c.pluck)(e.axisNameFont,e.outCanfontFamily),fontSize:(0,c.pluck)(e.axisNameFontSize,h(e.outCanfontSize))+"px",fontSizeWithUnit:(0,c.pluckFontSizeMaintainUnit)(e.axisNameFontSizeWithUnit,e.outCanfontSizeWithUnit),color:(0,c.convertColor)((0,c.pluck)(e.axisNameFontColor,e.outCancolor),(0,c.pluckNumber)(e.axisNameFontAlpha,e.axisNameAlpha,100)),fontWeight:(0,c.pluckNumber)(e.axisNameFontBold,1)?"bold":"normal",fontStyle:(0,c.pluckNumber)(e.axisNameFontItalic)?"italic":"normal",border:a||e.axisNameBgColor?(0,c.pluckNumber)(e.axisNameBorderThickness,1)+"px solid":o,borderColor:a,borderThickness:(0,c.pluckNumber)(e.axisNameBorderThickness,1),borderPadding:(0,c.pluckNumber)(e.axisNameBorderPadding,2),borderRadius:(0,c.pluckNumber)(e.axisNameBorderRadius,0),backgroundColor:e.axisNameBgColor?(0,c.convertColor)(e.axisNameBgColor,(0,c.pluckNumber)(e.axisNameBgAlpha,e.axisNameAlpha,100)):c.BLANKSTRING,borderDash:(0,c.pluckNumber)(e.axisNameBorderDashed,0)?(0,c.getDashStyle)((0,c.pluckNumber)(e.axisNameBorderDashLen,4),(0,c.pluckNumber)(e.axisNameBorderDashGap,2)):"none"},g.name.style.lineHeight=(0,c.setLineHeight)(g.name.style),n=(n=(0,c.getFirstValue)(m.trendvaluebordercolor,c.BLANKSTRING))?(0,c.convertColor)(n,(0,c.pluckNumber)(m.trendvalueborderalpha,m.trendvaluealpha,100)):c.BLANKSTRING,g.trend=g.trend||{},g.trend.trendStyle={fontFamily:(0,c.pluck)(m.trendvaluefont,e.outCanfontFamily),color:(0,c.pluck)(m.trendvaluefontcolor,e.trendlineColor,e.outCancolor,"333333"),fontSize:(0,c.pluckFontSize)(this.computeFontSize(m.trendvaluefontsize),h(e.outCanfontSize))+"px",fontSizeWithUnit:(0,c.pluckFontSizeMaintainUnit)(m.trendvaluefontsize,e.outCanfontSizeWithUnit),fontWeight:(0,c.pluckNumber)(m.trendvaluefontbold)?"bold":"normal",fontStyle:(0,c.pluckNumber)(m.trendvaluefontitalic)?"italic":"normal",border:n||m.trendvaluebgcolor?(0,c.pluckNumber)(m.trendvalueborderthickness,1)+"px solid":"",borderColor:n,borderThickness:(0,c.pluckNumber)(m.trendvalueborderthickness,1),borderPadding:(0,c.pluckNumber)(m.trendvalueborderpadding,2),borderRadius:(0,c.pluckNumber)(m.trendvalueborderradius,0),backgroundColor:m.trendvaluebgcolor?(0,c.convertColor)(m.trendvaluebgcolor,(0,c.pluckNumber)(m.trendvaluebgalpha,m.trendvaluealpha,100)):c.BLANKSTRING,borderDash:(0,c.pluckNumber)(m.trendvalueborderdashed,0)?(0,c.getDashStyle)((0,c.pluckNumber)(m.trendvalueborderdashlen,4),(0,c.pluckNumber)(m.trendvalueborderdashgap,2)):"none"},g.trend.trendStyle.lineHeight=(0,c.setLineHeight)(g.trend.trendStyle),g.labels=g.labels||{},g.lines=g.lines||{},g.band=g.band||{},i=(i=(0,c.getFirstValue)(m.labelbordercolor,c.BLANKSTRING))?(0,c.convertColor)(i,(0,c.pluckNumber)(m.labelborderalpha,m.labelalpha,100)):c.BLANKSTRING,g.labels.style={fontFamily:(0,c.pluck)(e.labelFont,e.outCanfontFamily),fontSize:(0,c.pluckNumber)(e.labelFontSize,h(e.outCanfontSize))+"px",fontSizeWithUnit:(0,c.pluckFontSizeMaintainUnit)(e.labelFontSizeWithUnit,e.outCanfontSizeWithUnit),fontWeight:(0,c.pluckNumber)(e.labelFontBold)?"bold":"normal",fontStyle:(0,c.pluckNumber)(e.labelFontItalic)?"italic":"normal",color:(0,c.convertColor)((0,c.pluck)(e.labelFontColor,e.outCancolor),(0,c.pluckNumber)(e.labelFontAlpha,100)),labelLink:m.labellink,border:i||m.labelbgcolor?(0,c.pluckNumber)(m.labelborderthickness,1)+"px solid":"",borderColor:i,borderThickness:(0,c.pluckNumber)(m.labelborderthickness,1),borderPadding:(0,c.pluckNumber)(m.labelborderpadding,2),borderRadius:(0,c.pluckNumber)(m.labelborderradius,0),backgroundColor:m.labelbgcolor?(0,c.convertColor)(m.labelbgcolor,(0,c.pluckNumber)(m.labelbgalpha,m.labelalpha,100)):c.BLANKSTRING,borderDash:(0,c.pluckNumber)(m.labelborderdashed,0)?(0,c.getDashStyle)((0,c.pluckNumber)(m.labelborderdashlen,4),(0,c.pluckNumber)(m.labelborderdashgap,2)):"none"},g.labels.style.lineHeight=(0,c.setLineHeight)(g.labels.style),g.numberFormatterFn=(0,c.pluck)(e.numberFormatterFn),g.apparentScrollPos=e.apparentScrollPos||g.apparentScrollPos,g.axisEndLabelDisplaySpace={left:0,right:0,top:0,bottom:0},g.isConfigured=!0,g._defaultForceDecimal=o,g._defaultDecimalPrecision=o,this.setScrollType("smart"),this.addToEnv("savedAxis",b&&(0,c.extend2)({},b))},a.setScrollType=function(t){var e=this.getVisibleConfig();"none"!==t&&"smart"!==t&&"always"!==t||(this.config.scrollType=t),this.setVisibleConfig(e.minValue,e.maxValue)},a.getScrollType=function(){return this.config.scrollType},a._processAxisBreak=function(){var t,e,a,n,o=this.config;for(o.breakPoints=[],a=0,n=(t=o.axisBreak.split("|")).length,e=0;a<n;a+=1)t[a]=t[a].split(","),isNaN(t[a][0])||isNaN(t[a][1])||(o.breakPoints[e]={start:(0,c.pluckNumber)(t[a][0]),end:(0,c.pluckNumber)(t[a][1]),length:(0,c.pluckNumber)(t[a][2],0)},e+=1);o.breakPoints.sort((function(t,e){return t.start-e.start})),o.hasBreakPoints=!0,this._validateBreakPoints()},a._validateBreakPoints=function(){var t,e=this.config,a=e.breakPoints,n=0,o=a.length;for(t=0;t<o;t+=1)n+=a[t].end-a[t].start;e.totalBreakAmount=n},a._getRelativeBreakValue=function(t){var e,a=this.config.breakPoints,n=a.length,o=0;for(e=0;e<n;e+=1){if(t>=a[e].start&&t<=a[e].end)return a[e].start-o;if(t<a[e].start)break;o+=a[e].end-a[e].start}return t-o},a._getRealBreakValue=function(t){var e,a=t,n=this.config.breakPoints,o=n.length;for(e=0;e<o;e+=1)if(a>=n[e].start)a+=n[e].end-n[e].start;else if(a<n[e].start)return a;return a},a._adjustNumberFormatter=function(t){var e,a,n=this.config,i=this.getFromEnv("chart").getFromEnv("number-formatter"),r=n._defaultDecimalPrecision,s=n._defaultForceDecimal,l=0;a=n.isVertical||"yAxis"===n.numberFormatterFn?(i.Y[n.axisIndex]||i.Y[0]).yAxisLabelConf:i.paramX,r!==o?a.decimalprecision=r:n._defaultDecimalPrecision=a.decimalprecision,s!==o?a.forcedecimals=s:n._defaultForceDecimal=a.forcedecimals,parseInt(t,10)>0||(e=t.toString().split(".")[1])&&((l=e.match(/^[0]*/)[0].length)+1>a.decimalprecision&&(a.forcedecimals=1),a.decimalprecision=Math.max(l+1,a.decimalprecision))},a._isZoomed=function(){var t=this.getFromEnv("chart").config.viewPortConfig;return this.config.isVertical?1!==t.scaleY:1!==t.scaleX},a._getIntervalArr=function(t){var e,a,n,o,i,r,s,l=this.config,d=l.labels,h=l.axisRange.tickInterval*(t&&t.step||1),g=[];if(e=this.getVisibleConfig(),"polar"===this.getFromEnv("chart").config.axisType?(a=e.minValue,n=e.maxValue):(a=e.minValue-(t&&t.minPad||0),n=e.maxValue+(t&&t.maxPad||0)),(o=p(a,h))===(i=p(n-n%h,h)))return[o];if(d.drawNormalVal)for(r=(0,c.toPrecision)(o+h,10);r<i;r=(0,c.toPrecision)(r+h,10))s=l.hasBreakPoints?(0,c.toPrecision)(this._getRealBreakValue(r),10):(0,c.toPrecision)(r,10),g.push(s);return d.drawLimitVal&&g.push(i,o),-1!==g.indexOf(0)&&g.splice(g.indexOf(0),1),l.showZeroPlane&&o<=0&&i>=0&&g.push(0),g.sort((function(t,e){return t-e}))},a._disposeScrollBar=function(){var t=this.config;t.scrollBarDrawn&&(this.getLinkedItem("scrollBar").hide(),t.scrollBarDrawn=!1)},a.addComponentInfo=function(t,e){this.getFromEnv("componentInfo")[m(t)].push(e)},a.getComponentInfo=function(t){return this.getFromEnv("componentInfo")[m(t)]},a.clearComponentInfo=function(){var t,e=this.getFromEnv("componentInfo");for(t in e)e.hasOwnProperty(t)&&(e[t]=[])},a.draw=function(){var t,e,a,n,o,i,r,s,l,c,d,h,p,u,m=this.config,v=m.canvas,b=this.getFromEnv("chart"),x=b.config,k=m.isVertical,C=x.viewPortConfig,y=this.getChildren().limitUpdater,w=m.viewPortRatio||{},F=v.canvasLeft||x.canvasLeft,P=v.canvasTop||x.canvasTop,A=v.canvasWidth||x.canvasWidth,D=v.canvasHeight||x.canvasHeight,L=m.axisContainer,S=m.axisLabelContainerTop,T=m.axisPlotLineContainer,E=m.axisPlotLineContainerTop,N=m.vlineLabelContainer,M=m.axisBandContainer,_=m.axisNameContainer,B=m.axisTrendContainerTop,V=m.axisTrendContainerBottom,O=m.axisTrendLabelContainer,H=m.axisAxisLineContainer,I=m.axisAxisLineContainerBottom,R=m.divLineThickness||0,W=b.getChildContainer(),G=W.axisBottomGroup,z=W.axisTopGroup,j=[];this.clearComponentInfo(),h=C.y*C.scaleY,p=C.x*C.scaleX,u=k?F+","+(P-R)+","+A+","+(D+2*R):F-R+","+P+","+(A+2*R)+","+D,t=this.getContainer("axisBandGroup")||this.addContainer("axisBandGroup",g("dataset-Band-group",G,this)),e=this.getContainer("axisPlotLineGroup")||this.addContainer("axisPlotLineGroup",g("dataset-Line-group",G,this)),a=this.getContainer("axisPlotLineGroupTop")||this.addContainer("axisPlotLineGroupTop",g("dataset-Line-group-top",z,this)),o=this.getContainer("axisNameGroup")||this.addContainer("axisNameGroup",g("dataset-Name-group",G,this)),n=this.getContainer("axisLineGroup")||this.addContainer("axisLineGroup",g("axis-Line-group",z,this)),s=this.getContainer("axisTrendGroupTop")||this.addContainer("axisTrendGroupTop",g("dataset-Trend-group-top",z,this)),i=this.getContainer("axisLabelGroup")||this.addContainer("axisLabelGroup",g("dataset-Label-group",G,this)),r=this.getContainer("axisLabelGroupTop")||this.addContainer("axisLabelGroupTop",g("dataset-Label-group",z,this)),l=this.getContainer("axisTrendGroupBottom")||this.addContainer("axisTrendGroupBottom",g("dataset-Trend-group-bottom",G,this)),V||(m.axisTrendContainerBottom=V=g("dataset-axis-trend-bottom",l,this)),V.attr({"clip-rect":F+","+P+","+A+","+D}),L||(m.axisContainer=L=g("dataset-axis",i,this)),S||(m.axisLabelContainerTop=S=g("dataset-top-label",r,this)),H||(m.axisAxisLineContainer=H=g("axis-line-tick",n,this)),N||(m.vlineLabelContainer=N=g("axis-vline-label",n,this)),M?j.push({el:M,attrs:{"clip-rect":F+","+P+","+A+","+D},animType:"linear",animConfig:[{syncWith:"initial",start:0,initial:1}]}):(m.axisBandContainer=M=g("dataset-axis-bands",t,this),M.attr({"clip-rect":F+","+P+","+A+","+D})),T?j.push({el:T,attrs:{"clip-rect":u},animType:"linear",animConfig:[{syncWith:"initial",start:0,initial:1}]}):(m.axisPlotLineContainer=T=g("dataset-axis-lines",e,this),T.attr({"clip-rect":u})),E?j.push({el:E,attrs:{"clip-rect":u},animType:"linear",animConfig:[{syncWith:"initial",start:0,initial:1}]}):(m.axisPlotLineContainerTop=E=g("dataset-axis-lines-top",a,this),E.attr({"clip-rect":u})),B?j.push({el:B,attrs:{"clip-rect":F+","+P+","+A+","+D},animType:"linear",animConfig:[{syncWith:"initial",start:0,initial:1}]}):(m.axisTrendContainerTop=B=g("dataset-axis-trend-top",s,this),B.attr({"clip-rect":F+","+P+","+A+","+D})),O||(m.axisTrendLabelContainer=O=g("dataset-axis-trend-label",s,this)),_||(m.axisNameContainer=_=g("dataset-axis-name",o,this)),I||(m.axisAxisLineContainerBottom=I=g("axis-line-tick-bottom",G,this)),w.scaleX&&w.scaleY&&(w.scaleX!==C.scaleX||w.scaleY!==C.scaleY)?(w.scaleX=C.scaleX,w.scaleY=C.scaleY,this._drawComponents()):(k?(d=h-C.y*C.scaleY,N.transform("t0,"+d),L.transform("t0,"+d),S.transform("t0,"+d),T.transform("t0,"+d),E.transform("t0,"+d),M.transform("t0,"+d),B.transform("t0,"+d),V.transform("t0,"+d)):(c=p-C.x*C.scaleX,N.transform("t"+c+",0"),L.transform("t"+c+",0"),S.transform("t"+c+",0"),T.transform("t"+c+",0"),E.transform("t"+c+",0"),M.transform("t"+c+",0"),B.transform("t"+c+",0"),V.transform("t"+c+",0")),this._drawComponents()),this.addExtEventListener("animationcomplete",(function(){y&&y.forEach(f)}),this.getFromEnv("animationmanager")),this.addToEnv("tempAxis",{canvasHeight:this.config.canvas.canvasHeight,canvasWidth:this.config.canvas.canvasWidth,canvasLeft:this.config.canvas.canvasLeft,canvasRight:this.config.canvas.canvasRight,canvasBottom:this.config.canvas.canvasBottom,canvasTop:this.config.canvas.canvasTop,visibleRange:this.getVisibleConfig(),visibleLength:this.getVisibleLength(),axisLength:this.config.axisDimention.axisLength,axisOpposite:this.config.axisDimention.opposite,axisY:this.config.axisDimention.y,axisX:this.config.axisDimention.x,axisRangeMin:this.config.axisRange.min,axisRangeMax:this.config.axisRange.max,axisTickInterval:this.config.axisRange.tickInterval,axisIsReverse:this.config.isReverse,axisIsVertical:this.config.isVertical,axisHasBreakPoints:this.config.hasBreakPoints,viewPortScaleY:this.getFromEnv("chart").config.viewPortConfig.scaleY,viewPortY:this.getFromEnv("chart").config.viewPortConfig.y,viewPortScaleX:this.getFromEnv("chart").config.viewPortConfig.scaleX,viewPortX:this.getFromEnv("chart").config.viewPortConfig.x,chartHeight:this.getFromEnv("chart").config.canvasHeight,chartWidth:this.getFromEnv("chart").config.canvasWidth,chartLeft:this.getFromEnv("chart").config.canvasLeft,chartRight:this.getFromEnv("chart").config.canvasRight,chartBottom:this.getFromEnv("chart").config.canvasBottom,chartTop:this.getFromEnv("chart").config.canvasTop,pvr:this.config.pvr,refVal:this.config.refVal,refVisibleVal:this.config.refVisibleVal})},a.getBreakPoints=function(){var t=this.config;return!!t.hasBreakPoints&&t.breakPoints},a.getValue=function(t,e){var a=this.config;return(e&&e.wrtVisible?a.refVisibleVal:a.refVal)+(t-a.refPx)/this.config.pvr},a.getDraggedValue=function(t){var e=this._linkedParent,a=null==e?void 0:e.config,n=null==a?void 0:a.viewPortConfig,o=this.config,i=t,r=o.refVal;return null!=a&&a.scrolltodate&&(i-=(null==n?void 0:n.scaleX)*n.x),Math.round(r+(i-o.refPx)/o.pvr/(null==n?void 0:n.scaleX))},a.getVisibleLength=function(){var t=this.getVisibleConfig();return Math.abs(t.maxValue-t.minValue)},a.setAxisPadding=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var a=this.config,n=t,o=e;n=a.startPad=Math.max(a.startPad,n),o=a.endPad=Math.max(a.endPad,o),0===a.oriCatLen&&(0===n&&(n=.5),0===o&&(o=.5)),a.hasCategory?a.oriCatLen>=0&&this.setAxisRange({max:a.oriCatLen+o,min:-n}):a.originalMax&&a.originalMin&&this.setDataLimit(a.originalMax,a.originalMin)},a.setAxisConfig=function(t){var e,a=this.config;for(e in t)t.hasOwnProperty(e)&&(a[e]=t[e])},a.getAxisConfig=function(t){var e=this.config;return t?e[t]:e},a.setAxisRange=function(t){var e,a,n,o=this.config,i=o.axisRange;for(n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);o.isReverse?o.refVal=i.max:o.refVal=i.min,this.setVisibleConfig(i.min,i.max),this.getFromEnv("tempAxis")&&((a={max:(e=this.getFromEnv("tempAxis")).axisRangeMax,min:e.axisRangeMin,tickInterval:e.axisTickInterval}).max!==i.max||a.min!==i.min||a.tickInterval!==i.tickInterval?o.rangeChanged=!0:o.rangeChanged=!1)},a.setAxisDimention=function(t){var e,a=this.config,n=this.getFromEnv("chart").config,o=a.axisDimention||(a.axisDimention={});o.opposite=(0,c.pluckNumber)(t.opposite,o.opposite),o.x=(0,c.pluckNumber)(t.x,n.canvasLeft,o.x),o.y=(0,c.pluckNumber)(t.y,n.canvasTop,o.y),o.axisLength=(0,c.pluckNumber)(t.axisLength,o.axisLength),a.isVertical?a.refPx=o.y:a.refPx=o.x,this.getPVR(),this.getFromEnv("tempAxis")&&((e=this.getFromEnv("tempAxis")).axisLength!==o.axisLength||e.axisOpposite!==o.opposite||e.axisY!==o.y||e.axisX!==o.x?a.dimensionChanged=!0:a.dimensionChanged=!1)},a.setDataLimit=function(t,e){var a,n,o,i,l,d=this.config,h=t,g=e,p=d.axisRange,u=d.isPercent?100:d.axisMaxValue,f=d.isPercent?0:d.axisMinValue,m=d.numDivLines,v=d.setAdaptiveMin,b=d.adjustDiv,x=d.startPad||0,k=d.endPad||0,C=d.trendLines||d.vTrendLines,y=C&&C[0]&&C[0].line;i=(0,r["default"])(y,(function(t){return t.startvalue})),l=(0,s["default"])(y,(function(t){return t.endvalue})),g=(0,r["default"])([i,g]),h=(0,s["default"])([l,h]),d.originalMax=h,d.originalMin=g,h=d.isPercent?100:h+k,g=d.isPercent?0:g-x,a=n=!v,d.hasBreakPoints&&(h-=d.totalBreakAmount),o=(0,c.getAxisLimits)((0,c.pluckNumber)(h,u),(0,c.pluckNumber)(g,f),u,f,n,a,m,b),this.setAxisRange({max:Number((0,c.toPrecision)(o.Max,10)),min:Number((0,c.toPrecision)(o.Min,10)),tickInterval:Number((0,c.toPrecision)(o.divGap,10))}),this._adjustNumberFormatter(p.tickInterval),0===p.tickInterval&&(p.tickInterval=1)},a.setVisibleConfig=function(t,e){var a,n,o,i=this.config,r=i.axisRange,s=this.getScrollType(),l=i.maxZoomLimit;return!(t>e)&&(o=(r.max-r.min)/(e-t),!(l&&o>l)&&(i.minVisibleValue=t,i.maxVisibleValue=e,i.isReverse?i.refVisibleVal=e:i.refVisibleVal=t,"always"===s?this.setScrollEnabled(!0):"smart"===s?this._isZoomed()?this.setScrollEnabled(!0):this.setScrollEnabled(!1):"none"===s&&this.isScrollEnabled()&&this.setScrollEnabled(!1),this.getPVR(),this.fireEvent("visiblerangeset",{minValue:i.minVisibleValue,maxValue:i.maxVisibleValue}),this.getFromEnv("tempAxis")&&(this.asyncDraw(),a=-this.getTranslation(),n=i.isVertical?["T",0,",",a].join(""):["T",a,",",0].join(""),i.axisContainer.attr({transform:n}),i.axisBandContainer.attr({transform:n}),i.axisPlotLineContainer.attr({transform:n}),i.axisTrendContainerTop.attr({transform:n})),!0))},a.getVisibleConfig=function(){var t=this.config;return{minValue:t.minVisibleValue,maxValue:t.maxVisibleValue}},a.getPVR=function(){var t=this.config,e=this.getVisibleConfig(),a=e.maxValue-e.minValue,n=(t.axisDimention||{}).axisLength/a;return n&&(t.isReverse?t.pvr=-n:t.pvr=n),t.pvr},a.getPixel=function(t,e){var a=this.config,n=t,o=e&&e.wrtVisible,i=o?a.refVisibleVal:a.refVal,r=this.getFromEnv("tempAxis"),s=a.pvr*this.getFromEnv("chartConfig").viewPortConfig.scaleX;return e&&e.preValue&&r&&(i=o?r.refVisibleVal:r.refVal,s=this.getOldPVR()),s?(a.hasBreakPoints&&(n=this._getRelativeBreakValue(n)),(0,c.toPrecision)(a.refPx+(n-i)*s,2)):0},a.getLimit=function(){var t=this.config.axisRange;return{min:t.min,max:t.max,tickInterval:t.tickInterval}},a.getOldPVR=function(){var t=this.getFromEnv("tempAxis");return t?t.pvr:this.config.pvr},a.hide=function(){var t=this.config;t.axisContainer&&(t.axisLabelContainerTop.hide(),t.axisContainer.hide(),t.axisPlotLineContainer.hide(),t.axisPlotLineContainerTop.hide(),t.axisBandContainer.hide(),t.axisNameContainer.hide(),t.axisTrendContainerTop.hide(),t.axisTrendContainerBottom.hide(),t.axisTrendLabelContainer.hide(),t.axisAxisLineContainer.hide(),t.axisAxisLineContainerBottom.hide())},a.show=function(){var t=this.config;t.axisContainer&&(t.axisLabelContainerTop.show(),t.axisContainer.show(),t.axisPlotLineContainer.show(),t.axisPlotLineContainerTop.show(),t.axisBandContainer.show(),t.axisNameContainer.show(),t.axisTrendContainerTop.show(),t.axisTrendContainerBottom.show(),t.axisTrendLabelContainer.show(),t.axisAxisLineContainer.show(),t.axisAxisLineContainerBottom.show())},a.getTranslation=function(){var t=this.config;return this.getPixel(t.refVisibleVal)-t.refPx},a.setScrollEnabled=function(t){this.config.scrollEnabled=t,t?(this.getFromEnv("chart")._createToolBoxGantt(),this.getFromEnv("tempAxis")&&this.asyncDraw()):this._disposeScrollBar()},a.isScrollEnabled=function(){return this.config.scrollEnabled},a.manageProcessScroll=function(t){var e,a=this.config,n=a.totalWidth||0,i=a.totalVisiblelWidth;n>i&&(e=(n-i)*(1-t),this.translateAxis(e,o))},a.translateAxis=function(t,e){var a,n,i=this.config,r=this.getContainer("ganttPlotLineContainer"),s=this.getContainer("ganttPlotHoverBandContainer"),l=i.lastTranslate||(i.lastTranslate={x:0,y:0}),c=this.getContainer("labelContainer"),d=this.getContainer("headerContainer"),h=this.getContainer("hotContainer");a=t!==o?t-l.x:0,n=e!==o?e-l.y:0,l.x=t!==o?t:l.x,l.y=e!==o?e:l.y,c&&c.translate(a,n),d&&d.translate(a,n),i.labelContainer&&i.labelContainer.translate(a,n),h&&h.translate(a,n),i.headerContainer&&i.headerContainer.translate(a,0),i.isVertical?(r&&r.translate(0,n),s&&s.translate(0,n)):(r&&r.translate(a,0),s&&s.translate(a,0),this.setAxisConfig({animateAxis:!1}),i.drawTrendLines&&this._drawTrendLine(),this.setAxisConfig({animateAxis:!0}))},a.resetTransletAxis=function(){var t,e=this.config,a=this.getContainer("labelContainer"),n=this.getContainer("headerContainer"),o=this.getContainer("hotContainer");t={transform:"t0,0"},e.lastTranslate={x:0,y:0},a&&a.attr(t),n&&n.attr(t),e.labelContainer&&e.labelContainer.attr(t),e.headerContainer&&e.headerContainer.attr(t),e.ganttPlotLineContainer&&e.ganttPlotLineContainer.attr(t),e.ganttPlotHoverBandContainer&&e.ganttPlotHoverBandContainer.attr(t),o&&o.attr(t)},e}(l.ComponentInterface);e["default"]=b},1594:function(t,e,a){"use strict";e.__esModule=!0,e["default"]=void 0;var n=function(){return[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"axis",startEnd:{start:0,end:.3}}]},o={"initial.axis.GanttProcess":function(){return{"path.appearing":n,"rect.appearing":n,"text.appearing":n}},"initial.axis.GanttTime":function(){return{"path.appearing":n,"rect.appearing":n,"text.appearing":n}}};e["default"]=o},1595:function(t,e,a){"use strict";var n=a(273);e.__esModule=!0,e["default"]=void 0;var o=n(a(292)),i=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{"default":t};var a=s(e);if(a&&a.has(t))return a.get(t);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if("default"!==i&&Object.prototype.hasOwnProperty.call(t,i)){var r=o?Object.getOwnPropertyDescriptor(t,i):null;r&&(r.get||r.set)?Object.defineProperty(n,i,r):n[i]=t[i]}n["default"]=t,a&&a.set(t,n);return n}(a(1592)),r=a(278);function s(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,a=new WeakMap;return(s=function(t){return t?a:e})(t)}var l=r.preDefStr.POSITION_START,c=r.preDefStr.POSITION_TOP,d=r.preDefStr.POSITION_END;var h=function(t){function e(){return t.apply(this,arguments)||this}(0,o["default"])(e,t);var a=e.prototype;return a.getName=function(){return"GanttTimeCategory"},a.configure=function(e){var a,n=this.config,o=this.getFromEnv("chart"),i=this.getFromEnv("dataSource"),s=o.getFromEnv("color-manager"),l=i.chart;t.prototype.configure.call(this,e),a=n.rawAttr,n.plotLineColor=n.lineColor=(0,r.convertColor)((0,r.pluck)(l.ganttlinecolor,s.getColor("gridColor")),(0,r.pluckNumber)(l.ganttlinealpha,100)),n.plotLineThickness=n.lineThickness=(0,r.pluckNumber)(l.ganttlinethickness,1),n.plotLineDashStyle=n.lineDashStyle=(0,r.pluckNumber)(l.ganttlinedashed,0)?(0,r.getDashStyle)((0,r.pluckNumber)(l.ganttlinedashlen,1),l.ganttlinedashgap,n.lineThickness):"none",n.hoverColor=(0,r.pluck)(l.categoryhoverbandcolor,l.hoverbandcolor,s.getColor("gridColor")),n.hoverAlpha=(0,r.pluckNumber)(l.categoryhoverbandalpha,l.hoverbandalpha,30),n.useHover=(0,r.pluckNumber)(l.showcategoryhoverband,l.showhoverband,l.showhovereffect,1),n.usePlotHover=(0,r.pluckNumber)(l.showganttpaneverticalhoverband),n.trendlinesDashLen=(0,r.pluckNumber)(a.trendlinesDashLen,3),n.trendlinesDashGap=(0,r.pluckNumber)(a.trendlinesDashGap,3),n.gridLineHeaderPath="",n.gridLinePath=""},a.setCategory=function(t){var e,a,n,o,s,l,c,d=this.getFromEnv("number-formatter"),h=this.config,g=h.startPad||0,p=h.endPad||0,u=Infinity,f=-Infinity;if(h.categories={},t){for(l in h.hasCategory=1,a=h.categories.category=(0,r.extend2)({},t),(0,i.extractAttribToEnd)(a,{}),a)if(a.hasOwnProperty(l)&&"_attrib"!==l)for(c=0,e=a[l].category.length;c<e;c+=1)n=a[l].category[c],o=d.getDateValue(n.start).ms,s=d.getDateValue(n.end).ms,isNaN(o)&&(o=void 0),o>f&&(f=o),o<=u&&(u=o),isNaN(s)&&(s=void 0),s>f&&(f=s),s<=u&&(u=s);this.setAxisRange({min:Number((0,r.toPrecision)(u-g,10)),max:Number((0,r.toPrecision)(f+p,10)),tickInterval:Number((0,r.toPrecision)(1,10))})}else h.hasCategory=0},a.placeAxis=function(t){var e,a,n,o,i,s,l,c,d,h,g,p,u,f,m=this.config,v=this.getFromEnv("chart"),b=v.config,x=this.getFromEnv("number-formatter"),k=this.getFromEnv("smartLabel"),C=m.labels.style,y=0,w={top:0,bottom:0},F=0,P=m.trend.trendStyle,A=m.vTrendLines,D=m.useEllipsesWhenOverflow,L=0,S=0;if(k.useEllipsesOnOverflow(b.useEllipsesWhenOverflow),k.setStyle({fontSize:C.fontSize,fontFamily:C.fontFamily,lineHeight:C.lineHeight,fontWeight:C.fontWeight}),m.maxTopSpaceAvailable=b.canvasTop,m.hasCategory)for(n in e=m.categories.category)if(e.hasOwnProperty(n)&&"_attrib"!==n){for(s in y=0,a=e[n].category)a.hasOwnProperty(s)&&"_attrib"!==s&&((o=a[s]).drawLabel=(0,r.parseUnsafeString)(o.label||o.name),l=o._attrib,c={fontFamily:(0,r.pluck)(l.fontfamily,C.fontFamily).replace(/px/i,"")+"px",fontSize:(0,r.pluck)(l.fontsize,this.computeFontSize(C.fontSizeWithUnit)),fontWeight:(0,r.pluck)(1===Number(l.isbold)||void 0===l.isbold?"bold":void 0,C.fontWeight),fontStyle:(0,r.pluck)(l.isitalic?"italic":void 0,C.fontStyle)},(0,r.setLineHeight)(c),k.setStyle(c),(i=k.getOriSize(o.drawLabel)).height>y&&(g=i,y=i.height));e[n]._attrib.topPos=F,F+=g.height+8,e[n]._attrib.bottomPos=F}if(f=t-F,m.drawTrendLines&&m.drawTrendLabels&&A&&m.isActive)for(k.setStyle({fontSize:P.fontSize,fontFamily:P.fontFamily,lineHeight:P.lineHeight,fontWeight:P.fontWeight}),m.trendBottomPadding=-1,s=0,d=A.length;s<d;s+=1)for(n=0,h=A[s].line.length;n<h;n+=1)o=(p=A[s].line[n]).origText||p.displayvalue||p.endvalue||p.startvalue||"",o=(0,r.parseUnsafeString)(o),p.startvalue=p.start&&x.getDateValue(p.start).ms,p.endvalue=p.end&&x.getDateValue(p.end).ms,p.origText=o,f-((u=k.getSmartText(o,v.canvasWidth,P.lineHeight,D)).height+2)<0?p.displayvalue="":(p.displayvalue=u.text,L=L<u.height?u.height:L),u.tooltext?p.valueToolText=u.tooltext:delete p.valueToolText;return m.totalHeight=F,L>0&&(S+=L+Math.abs(m.trendBottomPadding||0)),F=F>t?t:F,w.top+=F,w.bottom+=S,b.categorySpaceUsed=F,w},a._drawCategories=function(){var t,e,a,n,o,i,r,s,l,c=this.config,d=(c.axisDimention||{}).y,h=c.totalHeight||0,g=this.getFromEnv("chart"),p=g.config,u=g.getFromEnv("animationManager"),f=g.getFromEnv("number-formatter"),m=c.canvas,v=c.gridArr||(c.gridArr=[]),b=m.canvasLeft||p.canvasLeft,x=m.canvasTop||p.canvasTop,k=m.canvasHeight||p.canvasHeight,C=m.canvasWidth||p.canvasWidth,y=g.getChildContainer("axisBottomGroup"),w=0,F=this.getContainer("ganttPlotHoverBandContainerParent"),P=this.getContainer("ganttPlotHoverBandContainer"),A=this.getContainer("ganttPlotLineContainer"),D=this.getContainer("labelContainer"),L=this.getContainer("labelBackContainer"),S=this.getContainer("labelLineContainer"),T=this.getContainer("labelTextContainer");if(r=(r=Math.min(h,x-(c.maxTopSpaceAvailable||0)))>0?r:0,F||(F=this.addContainer("ganttPlotHoverBandContainerParent",u.setAnimation({el:"group",attr:{name:"gantt-plot-band-container-parent"},container:y,component:this}))),this.addContainer("ganttPlotHoverBandContainer",u.setAnimation({el:P||"group",attr:{name:"gantt-plot-band-container","clip-rect":b+","+x+","+C+","+k},container:F,component:this})),this.addContainer("ganttPlotLineContainer",u.setAnimation({el:A||"group",attr:{name:"gantt-plot-line-container","clip-rect":b+","+x+","+C+","+k,transform:"t0,0"},container:y,component:this})),D=this.addContainer("labelContainer",u.setAnimation({el:D||"group",attr:{name:"gantt-label-container","clip-rect":b+","+(x-r)+","+C+","+r,transform:"t0,0"},container:y,component:this})),L||(L=this.addContainer("labelBackContainer",u.setAnimation({el:"group",attr:{name:"gantt-label-back-container"},container:D,component:this}))),S||(S=this.addContainer("labelLineContainer",u.setAnimation({el:"group",attr:{name:"gantt-label-line-container"},component:this,container:D}))),T||(T=this.addContainer("labelTextContainer",u.setAnimation({el:"group",attr:{name:"gantt-label-text-container"},container:D,component:this}))),c.gridLinePath="",c.gridLineHeaderPath="",c.hoverElemsArr=[],c.labelHoverEventName={click:"CategoryClick",rollOver:"CategoryRollOver",rollOut:"CategoryRollOut"},c.hasCategory)for(t in e=c.categories.category)if(e.hasOwnProperty(t)&&"_attrib"!==t)for(n in a=e[t].category,i=void 0,v=c.gridArr=[],a)s=f.getDateValue(a[n].start).ms,l=f.getDateValue(a[n].end).ms,!a.hasOwnProperty(n)||"_attrib"===n||isNaN(s)||isNaN(l)||(i=(o={elem:a[n],elemIndex:w,pos:w,dimension:{left:i||this.getPixel(s),right:this.getPixel(l),top:d-h+e[t]._attrib.topPos,bottom:d-h+e[t]._attrib.bottomPos},type:"category",isHeader:!1}).dimension.right,this._drawProcessAndDataTableElement(o),w+=1,v.push({x:o.dimension.left}));this._drawGridLine(),this._disposeExtraProcessAndDataTableElement(w)},a._drawComponents=function(){var t=this.config,e=this.getFromEnv("chartConfig");this._drawCategories(),t.lastTranslate={x:0,y:0},this.translateAxis(-e.viewPortConfig.x*e.viewPortConfig.scaleX,0),t.drawPlotlines&&this._drawPlotLine(),function(t){var e,a,n,o,i,s,h,g,p,u,f,m,v,b,x,k,C,y,w,F,P,A,D,L,S=t.config,T=S.isVertical,E=S.isOpposit,N=t.getFromEnv("animationManager"),M=S.axisIndex,_=t.getFromEnv("chart-attrib"),B=t.getFromEnv("number-formatter"),V=S.axisRange,O=V.max,H=V.min,I=S.trend.trendStyle,R=S.labelPadding,W=S.axisTrendLabelContainer,G={fontFamily:I.fontFamily,fontSize:I.fontSize,lineHeight:I.lineHeight,fontWeight:I.fontWeight,fontStyle:I.fontStyle},z=S.vTrendLines,j=S.trendLines,U=S.drawTrendLabels,X=S.axisDimention||{},K=t.getFromEnv("chartConfig"),Y=t.getFromEnv("chart").getChildren("canvas")[0],Z=Y.config.canvasBottom||K.canvasBottom,J=Y.config.canvasLeft||K.canvasLeft,$=Y.config.canvasRight||K.canvasRight,q=[],Q=t.getVisibleConfig(),tt=t.getGraphicalElement("trendlabels")||[];for(o=0;o<tt.length;o++)tt[o].remove();if(S.hasBreakPoints&&(Q.minValue=t._getRealBreakValue(Q.minValue),Q.maxValue=t._getRealBreakValue(Q.maxValue)),(n=t._isZoomed())?(e=Math.max(t.getPixel(Q.minValue,{wrtVisible:!0}),t.getPixel(Q.maxValue,{wrtVisible:!0})),a=Math.min(t.getPixel(Q.minValue,{wrtVisible:!0}),t.getPixel(Q.maxValue,{wrtVisible:!0}))):(Q.minValue=H,Q.maxValue=O),z?A=E?(X.opposite||Z)-(S.trendBottomPadding||0):(X.y||Z)+(S.trendBottomPadding||0):(A=E?(X.opposite||J)+(R||0):(X.x||J)-(R||0),D=E?(X.x||$)+(R||0):(X.opposite||$)+(R||0)),u=j||z)for(s=0,h=u.length;s<h;s+=1)for(o=0,i=u[s].line&&u[s].line.length;o<i;o+=1)L=T?"yAxis":"xAxis",(b=u[s].line[o]).startvalue||b.value||0,C=B.getCleanValue((0,r.pluck)(b.startvalue,b.value,0)),y=Number(b.endvalue)||void 0,g=(0,r.getValidValue)((0,r.parseUnsafeString)((0,r.pluck)(u[s].line[o].tooltext,u[0].tooltext,S.trendlineToolText),!1)),g=(0,r.parseTooltext)(g,[7,15,16,17,18,19],{startValue:C,startDataValue:B[L](C,M),endValue:y||C,endDataValue:B[L](y||C,M),axisName:S.axisName},b),C>O||C<H||y>O||y<H||(z?(x=(0,r.pluck)((0,r.parseUnsafeString)(b.displayvalue),b.start,""),w=t.getPixel(S.hasBreakPoints?t._getRelativeBreakValue(C):C,{wrtVisible:!0}),f=(0,r.pluckNumber)(b.istrendzone,S.isTrendZone,1),F=y?t.getPixel(S.hasBreakPoints?t._getRelativeBreakValue(y):y,{wrtVisible:!0}):0,void 0!==y&&""!==y&&y!==C&&f?(m={fill:(0,r.convertColor)((0,r.pluck)(b.color,S.trendlineColor),(0,r.pluck)(b.alpha,S.trendlineAlpha,40)),"stroke-width":0},v={fill:(0,r.convertColor)((0,r.pluck)(b.color,I.color),(0,r.pluck)(b.valuealpha,_.trendvaluealpha,b.alpha,S.trendlineAlpha,99)),"vertical-align":c,text:x,x:w+(F-w)/2,y:A}):(P=(0,r.pluckNumber)(b.thickness,S.trendlineThickness,1),m={stroke:(0,r.convertColor)((0,r.pluck)(b.color,S.trendlineColor),(0,r.pluck)(b.alpha,S.trendlineAlpha,99)),"stroke-width":P,"stroke-dasharray":(0,r.pluck)(b.dashed,S.trendlinesAreDashed)===r.ONESTRING?(0,r.getDashStyle)((0,r.pluckNumber)(b.dashlen,S.trendlinesDashLen),(0,r.pluckNumber)(b.dashgap,S.trendlinesDashGap)):"none"},v={fill:(0,r.convertColor)((0,r.pluck)(b.color,I.color),(0,r.pluck)(b.valuealpha,_.trendvaluealpha,b.alpha,S.trendlineAlpha,99)),"vertical-align":c,text:x,x:y?F:w,y:A})):j&&(x=(0,r.pluck)((0,r.parseUnsafeString)(b.displayvalue),b.start,""),k=(0,r.pluckNumber)(b.valueonright,0),f=(0,r.pluckNumber)(b.istrendzone,S.isTrendZone,0),w=t.getPixel(C,{wrtVisible:!0}),F=y?t.getPixel(y,{wrtVisible:!0}):0,void 0!==y&&""!==y&&y!==C&&f?(m={fill:(0,r.convertColor)((0,r.pluck)(b.color,S.trendlineColor),(0,r.pluck)(b.alpha,S.trendlineAlpha,40)),"stroke-width":0},v={"text-anchor":k?l:d,fill:(0,r.convertColor)((0,r.pluck)(b.color,I.color),(0,r.pluck)(b.valuealpha,_.trendvaluealpha,b.alpha,S.trendlineAlpha,99)),text:x,x:k?D:A,y:w+(F-w)/2}):(P=(0,r.pluckNumber)(b.thickness,S.trendlineThickness,1),m={stroke:(0,r.convertColor)((0,r.pluck)(b.color,S.trendlineColor),(0,r.pluck)(b.alpha,S.trendlineAlpha,99)),"stroke-width":P,"stroke-dasharray":(0,r.pluck)(b.dashed,S.trendlinesAreDashed)===r.ONESTRING?(0,r.getDashStyle)((0,r.pluckNumber)(b.dashlen,S.trendlinesDashLen),(0,r.pluckNumber)(b.dashgap,S.trendlinesDashGap)):"none"},v={"text-anchor":k?l:d,fill:(0,r.convertColor)((0,r.pluck)(b.color,I.color),(0,r.pluck)(b.valuealpha,_.trendvaluealpha,b.alpha,S.trendlineAlpha,99)),text:x,x:k?D:A,y:y&&k?F:w}),n&&(!U||v.y>e||v.y<a)&&(v.text="")),v["text-bound"]=v.text?[I.backgroundColor,I.borderColor,I.borderThickness,I.borderPadding,I.borderRadius,I.borderDash]:[],p=N.setAnimation({el:"text",attr:v,css:G,container:W,component:t}).show(),S.showTooltip&&g||(g=""),t.addComponentInfo("trend",{marker:{isZone:f,startValue:C,endValue:y,fill:m.fill,stroke:m.stroke,strokeWidth:m["stroke-width"],strokeDashArray:m["stroke-dasharray"],shapeRendering:m["shape-rendering"]},label:{fill:v.fill,text:x,textAnchor:v["text-anchor"],textBound:v["text-bound"],valueOnRight:(0,r.pluckNumber)(b.valueonright,0),toolText:g},showOnTop:(0,r.pluckNumber)(b.showontop)}),q.push(p));q.length&&t.addGraphicalElement("trendlabels",q)}(this),t.drawTrendLines&&this._drawTrendLine()},e}(i["default"]);e["default"]=h},1596:function(t,e,a){"use strict";var n=a(273);e.__esModule=!0,e["default"]=void 0;var o=n(a(292)),i=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{"default":t};var a=d(e);if(a&&a.has(t))return a.get(t);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if("default"!==i&&Object.prototype.hasOwnProperty.call(t,i)){var r=o?Object.getOwnPropertyDescriptor(t,i):null;r&&(r.get||r.set)?Object.defineProperty(n,i,r):n[i]=t[i]}n["default"]=t,a&&a.set(t,n);return n}(a(1597)),r=a(278),s=n(a(1602)),l=a(286),c=a(290);function d(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,a=new WeakMap;return(d=function(t){return t?a:e})(t)}var h=function(t){return function(e){t.plotEventHandler(this,e,"MilestoneClick")}},g=function(t){return function(e){var a=this.data("dataObj"),n=a.config;t.plotEventHandler(this,e,"MilestoneRollOver"),n.showHoverEffect&&a.graphics.element.attr({fill:n.hoverFillColor,stroke:n.hoverBorderColor,"fill-opacity":n.hoverFillAlpha,"stroke-opacity":n.hoverBorderAlpha})}},p=function(t){return function(e){var a=this.data("dataObj"),n=a.config;t.plotEventHandler(this,e,"MilestoneRollOut"),n.showHoverEffect&&a.graphics.element.attr({fill:n.fillColor,stroke:n.borderColor,"fill-opacity":n.fillAlpha,"stroke-opacity":n.borderAlpha})}};(0,l.addDep)({name:"milestoneAnimation",type:"animationRule",extension:s["default"]});var u=function(t){function e(){return t.apply(this,arguments)||this}(0,o["default"])(e,t);var a=e.prototype;return a.getName=function(){return"milestone"},a.__setDefaultConfig=function(){t.prototype.__setDefaultConfig.call(this);var e=this.config;e.showpercentlabel=0,e.showstartdate=0,e.showenddate=0,e.showlabels=void 0,e.showborder=1,e.borderthickness=1,e.showHoverEffect=1,e.slackFillColor="FF5E5E",e.font=r.BLANKSTRING,e.fontcolor=r.BLANKSTRING,e.fontsize=r.BLANKSTRING,e.color=r.BLANKSTRING,e.alpha=r.HUNDREDSTRING,e.bordercolor=r.BLANKSTRING,e.borderalpha=r.HUNDREDSTRING,e.hoverFillColor=r.BLANKSTRING,e.hoverFillAlpha=r.HUNDREDSTRING,e.slackHoverFillColor=10,e.slackHoverFillAlpha=r.HUNDREDSTRING},a.configureAttributes=function(){var t=this.config,e=this.getFromEnv("dataSource"),a=(0,r.extend2)({},e.milestones&&e.milestones.length?e.milestones[0]:e.milestones||{});(0,r.parseConfiguration)(a,t,{milestones:!0}),this.components||(this.components={}),this._setConfigure(),this.setState("dirty",!0)},a._setConfigure=function(t){var e,a,n,o,s,l,c,d,h,g,p,u,f,m,v=this.getFromEnv("chart"),b=v.getChildren("yAxis")[0].config,x=this.getFromEnv("dataSource"),k=x.milestones&&x.milestones.length?x.milestones[0]:x.milestones||{},C=t||k.length?k:k.milestone,y=C&&C.length,w=this.getFromEnv("color-manager"),F=v.config,P=this.getFromEnv("number-formatter"),A=this.components.data,D=v.config.style,L=D.inCanvasStyle,S=v.components.tasksMap,T=b.processes.processMap,E=b.processes.process.process,N=v.config.milestoneLabelStyle;for(A||(A=this.components.data=[]),o=0;o<y;o+=1)l=C[o],(e=A[o])||(e=A[o]={config:{}}),n=e.config,u=(0,r.getFirstValue)(l.taskid,r.BLANKSTRING).toLowerCase(),h=(0,r.pluck)(l.shape,"polygon").toLowerCase(),c=(0,r.pluckNumber)(l.numsides,5),g=0,"star"===h?g=.4:(h=(0,r.mapSymbolName)(c),h=(0,r.mapSymbolName)(c).split("-")[0]),d=(0,r.pluck)(l.color,w.getColor("legendBorderColor")),p=(0,r.getValidValue)((0,r.parseUnsafeString)((0,r.pluck)(l.tooltext,l.hovertext,F.milestonetooltext),!1)),f=P.getDateValue(l.date).ms,m=P.getFormattedDate(f),void 0!==p&&S[u]?(a=S[u].config,s=T[u]?T[u].catObj.label||T[u].catObj.name:E[o]&&(E[o].label||E[o].name),p=(0,r.parseTooltext)(p,[28,32,33,34,35,36],{date:m,taskStartDate:a._startDate,taskEndDate:a._endDate,taskLabel:a.label,taskPercentComplete:-1!==a.percentComplete?P.percentValue(a.percentComplete):r.BLANKSTRING,processName:s},l)):p=m,D=n.style=(0,i.extractLabelStyle)({fontSize:l.fontsize,fontFamily:l.font,fontWeight:l.fontbold,fontStyle:l.fontitalic}),n.textColor=(0,r.getFirstColor)((0,r.pluck)(l.fontcolor,F.milestonefontcolor,L.color)),(0,r.setLineHeight)(D),n.lineHeight=(0,r.pluck)(D&&D.lineHeight,N&&N.lineHeight),n.numSides=c,n.startAngle=(0,r.pluckNumber)(l.startangle,90),n.radius=l.radius,n.origDate=l.date,n.date=P.getDateValue(l.date),n.fillColor=(0,r.getFirstColor)(d),n.fillAlpha=.01*(0,r.pluckNumber)(l.fillalpha,l.alpha,100),n.borderColor=(0,r.getFirstColor)((0,r.pluck)(l.bordercolor,d)),n.borderAlpha=.01*(0,r.pluckNumber)(l.borderalpha,l.alpha,100),n.displayValue=(0,r.parseUnsafeString)(l.label),n.style=D,n.hoverFillColor=(0,r.getFirstColor)((0,r.pluck)(l.hoverfillcolor,F.milestonehoverfillcolor,(0,r.getDarkColor)(d,80))),n.hoverFillAlpha=.01*(0,r.pluckNumber)(l.hoverfillalpha,F.milestonehoverfillalpha,l.fillalpha,l.alpha,100),n.hoverBorderColor=(0,r.getFirstColor)((0,r.pluck)(l.hoverbordercolor,F.milestonehoverbordercolor,(0,r.getDarkColor)((0,r.pluck)(l.bordercolor,d),80))),n.hoverBorderAlpha=.01*(0,r.pluckNumber)(l.hoverborderalpha,F.milestonehoverborderalpha,l.borderalpha,l.alpha,100),n.showHoverEffect=(0,r.pluckNumber)(l.showhovereffect,F.showmilestonehovereffect,F.showhovereffect,1),n.depth=g,n.taskId=u,n.borderThickness=(0,r.pluckNumber)(l.borderthickness,1),n.link=l.link,n.toolText=p;(0,r.pluckNumber)(k.visible,1)?this.setState("visible",!0):this.setState("visible",!1)},a.drawLabel=function(){var t,e,a,n,o,s,l,c,d,u,f,m=this.getFromEnv("chart"),v=this.getFromEnv("animationManager"),b=m.components.tasksMap,x=this.getFromEnv("toolTipController"),k=this.getContainer("milestoneLabelContainer"),C=this.components.data;for(n=0,l=C.length;n<l;n++)u=b[(t=(a=C[n]).config).taskId],o=(c=a.graphics).labelElement,e=t.eventArgs,d=t._labelAttrs,f=t.style,t.displayValue!==r.BLANKSTRING&&void 0!==t.displayValue&&u?(s=c.labelElement=v.setAnimation({el:o||"text",attr:d,container:k,component:this}),o?(s.removeCSS(),s.show()):s.on("fc-click",h(m)).hover(g(m),p(m)),s.css(f),x.enableToolTip(s,t.toolText),s.data("eventArgs",e).data("dataObj",a)):o&&v.setAnimation({el:o,component:this,callback:i.hideFn,doNotRemove:!0})},a.draw=function(){var t,e,a,n,o,s,l,d,u,f,m,v,b,x,k,C=this.config.milestone,y=this.getFromEnv("chart"),w=y.components,F=this.components,P=this.getFromEnv("toolTipController"),A=y.getChildren("xAxis")[0],D=F.data,L=w.tasksMap,S=y.config,T=y.getChildren("canvas")[0],E=this.getContainer("milestoneContainer"),N=T.getChildContainer("milestoneGroup"),M=this.getContainer("milestoneLabelContainer"),_=this.getState("visible"),B=this.getFromEnv("animationManager"),V=this.components.removeDataArr||[],O=V.length,H=S.showtooltip;for(E||(E=this.addContainer("milestoneContainer",B.setAnimation({el:"group",attr:{name:"milestone"},container:N,component:this}))),_?E.show():E.hide(),M||(M=this.addContainer("milestoneLabelContainer",B.setAnimation({el:"group",attr:{name:"labels"},container:N,component:this}))),_?M.show():M.hide(),x=D&&D.length,b=0;b<x;b+=1)if(t=D[b])if(n=t.config,a=t.graphics,e=L[n.taskId],!t.graphics&&(t.graphics={}),l=a.element,e){if(s=e.config,o=n.eventArgs={sides:n.sides,date:n.origDate,radius:n.radius,taskId:n.taskId,toolText:n.toolText,link:n.link,numSides:n.numSides},u=A.getPixel(n.date.ms),f=s.yPos+.5*s.height,v=(0,r.pluckNumber)(n.radius,.6*s.height),!1===(0,i.checkInvalidValue)(u,f,v))continue;m=[n.numSides,u,f,v,n.startAngle,n.depth],(d=a.element=B.setAnimation({el:l||"polypath",label:"polypath",attr:{polypath:m,fill:n.fillColor,"fill-opacity":n.fillAlpha,stroke:n.borderColor,"stroke-opacity":n.borderAlpha,groupId:"gId"+b,cursor:n.link?"pointer":r.BLANKSTRING,"stroke-width":n.borderThickness},component:this,container:E})).on("fc-click",h(y)).hover(g(y),p(y)),d.show().data("eventArgs",o).data("dataObj",t),H?P.enableToolTip(d,n.toolText):P.disableToolTip(d);var I=C[b],R=((null==I?void 0:I.margintop)||0)-((null==I?void 0:I.marginbottom)||0),W=((null==I?void 0:I.marginright)||0)-((null==I?void 0:I.marginleft)||0);(k=n._labelAttrs||(n._labelAttrs={})).x=u-+W,k.y=f+ +R,k.text=n.displayValue,k.groupId="gId"+b,k.cursor=n.link?"pointer":r.BLANKSTRING,k.direction=S.textDirection,k["text-anchor"]="middle",k.fill=n.textColor}else l&&B.setAnimation({el:l,component:this,callback:i.hideFn,doNotRemove:!0});for(this.drawn?this.drawLabel():this.addJob("drawMilestoneLabels",this.drawLabel.bind(this),c.priorityList.label),this.drawn=!0,b=0;b<O;b++)this._removeDataVisuals(V.shift())},e}(i["default"]);e["default"]=u},1597:function(t,e,a){"use strict";var n=a(273);e.__esModule=!0,e["default"]=e.hideFn=e.extractLabelStyle=e.checkInvalidValue=void 0;var o=n(a(1598)),i=n(a(1600)),r=n(a(277)),s=n(a(292)),l=n(a(599)),c=a(278),d=a(286),h=n(a(1601)),g=a(290);function p(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?p(Object(a),!0).forEach((function(e){(0,r["default"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function f(t){return!!/^(0?[1-9]|1[0-2])\/(0?[1-9]|[12][0-9]|3[01])\/\d{4} (0?[0-9]|1[0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])$/.test(t)}var m=c.preDefStr.EVENTARGS,v={left:"start",right:"end",center:"middle"},b={left:0,right:1,center:.5,undefined:.5},x={left:5,right:-5,center:0,undefined:0},k={fontWeight:["normal","bold"],fontStyle:["normal","italic"]},C=function(){this.hide()},y=function(t){return null!=t},w=function(t){var e,a;for(a in t)if(void 0!==t[a])switch(e=e||{},a){case"fontWeight":case"fontStyle":e[a]=k[a][t[a]];break;default:e[a]=t[a]}return e},F=function(t){return/%/g.test(t)},P=function(){var t,e=0,a=arguments.length,n=!1;for(e=0;e<a;e++){if(t=arguments[e],isNaN(t))return!1;n=!0}return n};e.checkInvalidValue=P,e.extractLabelStyle=w,e.hideFn=C,(0,d.addDep)({name:"taskAnimation",type:"animationRule",extension:h["default"]});var A=function(t){function e(){var e;return(e=t.call(this)||this).components={},e}(0,s["default"])(e,t);var a=e.prototype;return a.getName=function(){return"task"},a.__setDefaultConfig=function(){t.prototype.__setDefaultConfig.call(this);var e=this.config;e.showpercentlabel=void 0,e.showlabels=void 0,e.showborder=1,e.borderthickness=1,e.font=c.BLANKSTRING,e.fontcolor=c.BLANKSTRING,e.fontsize=c.BLANKSTRING,e.color=c.BLANKSTRING,e.alpha=c.HUNDREDSTRING,e.angle=270,e.slackfillcolor=void 0,e.borderalpha=c.HUNDREDSTRING,e.hoverfillcolor=c.BLANKSTRING,e.slackhoverfillalpha=c.HUNDREDSTRING,e.showstartdate=void 0,e.showenddate=void 0},a.configureAttributes=function(){var t=this.getFromEnv("dataSource"),e=(0,c.extend2)({},t.tasks&&t.tasks.length?t.tasks[0]:t.tasks||{});(0,c.parseConfiguration)(e,this.config,this.getFromEnv("chart").config,{task:!0}),this.components||(this.components={}),this.config.hoverfillalpha=(0,c.pluckNumber)(e.hoverfillalpha,this.getFromEnv("chart").config.taskhoverfillalpha,c.HUNDREDSTRING),this._setConfigure(),this.setState("dirty",!0)},a._setConfigure=function(t){var e,a,n,o,i,r,s,l,d,h,g,p,u,f,m,v,b,x,k,C,y,F,P,A,D,L,S,T,E=this.config,N=this.getFromEnv("chart"),M=N.getChildren("yAxis")[0].config,_=this.getFromEnv("dataSource"),B=_.chart,V=_.tasks&&_.tasks.length?_.tasks[0]:_.tasks||{},O=t||V.length?V:V.task,H=O&&O.length,I=this.getFromEnv("color-manager"),R=N.config,W=this.getFromEnv("number-formatter"),G=R.taskbarfillmix,z=R.taskbarfillratio,j=R.showslackasfill,U=this.components.data,X=M.processes.processMap,K=M.processes.process.process,Y=R.dateintooltip,Z={right:"right",left:"left",undefined:"center",center:"center"},J=N.components.tasksMap={},$=R.style.inCanvasStyle,q=(0,c.pluckNumber)(B.showtooltip,1),Q=R.dataLabelStyle;if(U||(U=this.components.data=[]),E.showlabels=(0,c.pluck)(V.showlabels,V.showlabels,V.showname,B.showtasklabels,B.showtasknames,0),E.showTextOutline=(0,c.pluckNumber)(B.textoutline,0),E.allowDrag=(0,c.pluckNumber)(B.allowdrag,0),S=E.labelStyle=w({fontSize:E.fontSize,fontFamily:E.font}),(0,c.setLineHeight)(E.labelStyle),H)for(o=0;o<H;o+=1)h=O[o],(g=(0,c.pluck)(h.processid))&&"string"==typeof g&&(g=g.toLowerCase()),D=h.id,h.percentcomplete,p=(0,c.pluckNumber)(h.alpha,E.alpha),v=(0,c.pluck)(h.color,E.color,I.getColor("plotFillColor")),u=(0,c.pluckNumber)(h.borderalpha,E.borderalpha,"100"),f=(0,c.pluck)(h.bordercolor,E.bordercolor,I.getColor("plotBorderColor")),m=(0,c.getFirstValue)((0,c.pluck)(h.label,h.name),""),r=I.parseColorMix(v,G),s=I.parseAlphaList(p.toString(),r.length),l=I.parseRatioList(z,r.length),b=(0,c.pluckNumber)(h.angle,E.angle),(L=(U[o]||(U[o]={config:{}})).config).index=o,L.link=h.link,L.processId=(0,c.pluck)(g,"PROCESS_"+o),L.textColor=(0,c.getFirstColor)((0,c.pluck)(h.fontcolor,E.fontcolor,$.color)),L.textFont=(0,c.pluck)(h.font,E.font,$.fontFamily),L.textFontSize=(0,c.pluckNumber)(h.fontsize,E.fontsizes,$.fontSize),!h.fontsize&&R.dataLabelStyle&&(h.fontsize=R.dataLabelStyle.fontSize),L.style=w({fontSize:h.fontsize,fontFamily:h.font}),(0,c.setLineHeight)(L.style),T=L.style,L.lineHeight=(0,c.pluck)(T&&T.lineHeight,S&&S.lineHeight,Q&&Q.lineHeight),L.startMs=W.getDateValue(h.start).ms,L.endMs=W.getDateValue(h.end).ms,n=W.getFormattedDate(L.startMs,B.dateformat),a=W.getFormattedDate(L.endMs,B.dateformat),L.tAlpha=p,L.tBorderColor=f,L.tBorderAlpha=u,d="",L.percentComplete=e=Math.min((0,c.pluckNumber)(h.percentcomplete,-1),100),L.labelAlign=Z[[(0,c.pluck)(h.labelalign,R.tasklabelsalign).toLowerCase()]],L.showAsGroup=(0,c.pluckNumber)(h.showasgroup,0),x=L.showPercentLabel=(0,c.pluckNumber)(h.showpercentlabel,E.showpercentlabel),(0,c.pluckNumber)(h.showlabel,h.showname,E.showlabels)&&(d=m),x&&-1!==e&&(d+=" "+e+"%"),L.percentComplete=e,F={FCcolor:{color:r.join(),alpha:s,ratio:l,angle:b}},y=I.parseColorMix((0,c.pluck)(h.slackfillcolor,E.slackfillcolor,R.slackfillcolor),G),y=j?{FCcolor:{color:y.join(),alpha:s,ratio:l,angle:b}}:c.TRACKER_FILL,P={FCcolor:{color:I.parseColorMix((0,c.pluck)(h.hoverfillcolor,E.hoverfillcolor,R.taskhoverfillcolor,(0,c.getDarkColor)(v,80)),G).join(),alpha:I.parseAlphaList((0,c.pluck)(h.hoverfillalpha,E.hoverfillalpha).toString(),r.length),ratio:l,angle:b}},A=(0,c.convertColor)((0,c.pluck)(h.hoverbordercolor,E.hoverbordercolor,(0,c.getDarkColor)(f,80)),(0,c.pluck)(h.hoverborderalpha,E.hoverborderalpha,u)),C=j?{FCcolor:{color:I.parseColorMix((0,c.getDarkColor)((0,c.pluck)(h.slackhoverfillcolor,E.slackhoverfillcolor,R.slackfillcolor),80),G).join(),alpha:I.parseAlphaList((0,c.pluck)(h.slackhoverfillalpha,E.slackhoverfillalpha,"100").toString(),r.length),ratio:l,angle:b}}:c.TRACKER_FILL,L.color=(0,c.toRaphaelColor)(F),L.rawTaskColor=v,L.rawTaskAlpha=p,L.slackColor=(0,c.toRaphaelColor)(y),L.hoverFillColor=(0,c.toRaphaelColor)(P),L.hoverBorderColor=A,L.slackHoverColor=(0,c.toRaphaelColor)(C),L.showHoverEffect=(0,c.pluckNumber)(h.showhovereffect,E.showhovereffect,B.showhovereffect,1),L.taskHeight=(0,c.pluck)(h.height,"35%"),L.topPadding=(0,c.pluck)(h.toppadding,"35%"),L.showPercentLabel=x,L.endDate=(0,c.pluckNumber)(h.showenddate,E.showenddate)?a:void 0,L._endDate=a,L.startDate=(0,c.pluckNumber)(h.showstartdate,E.showstartdate)?n:void 0,L._startDate=n,L.shadow={opacity:Math.max(p,u)/100,inverted:!0},L.id=g,L.taskId=D,L.borderColor=(0,c.convertColor)(f,u),L.borderThickness=(0,c.pluckNumber)(h.showborder,E.showborder)?(0,c.pluckNumber)(h.borderthickness,E.borderthickness):0,k=(0,c.getValidValue)((0,c.parseUnsafeString)((0,c.pluck)(h.tooltext,E.hovertext,E.plottooltext,B.plottooltext),!1)),q&&(void 0!==k?(i=X[g]?X[g].catObj.label||X[g].catObj.name:K[o]&&(K[o].label||K[o].name),k=(0,c.parseTooltext)(k,[3,28,29,30,31],{end:W.getFormattedDate(L.endMs,B.outputdateformat),start:W.getFormattedDate(L.startMs,B.outputdateformat),label:m,percentComplete:-1!==e?W.percentValue(e):"",processName:i},E)):k=(""!==m?m+(Y?", ":""):"")+(Y?W.getFormattedDate(L.startMs,B.outputdateformat)+" - "+W.getFormattedDate(L.endMs,B.outputdateformat):"")),L.label=d,L.toolText=k,"string"==typeof D&&(D=D.toLowerCase()),void 0!==D&&(J[D]=U[o]);(0,c.pluckNumber)(V.visible,1)?this.setState("visible",!0):this.setState("visible",!1)},a._getParentToolTextOnDrag=function(t,e,a){var n,o,i=this.data("drag-options").dataset,r=i.getFromEnv("dataSource"),s=r.chart,l=(Array.isArray(null==r?void 0:r.tasks)?null==r||null==(n=r.tasks[0])?void 0:n.task:null==r||null==(o=r.tasks)?void 0:o.task)[a.index],d=(0,c.getFirstValue)((0,c.pluck)(l.label,l.name),""),h=i.getFromEnv("chartConfig"),g=i.getFromEnv("number-formatter"),p=h.dateintooltip;return(""!==d?d+(p?", ":""):"")+(p?g.getFormattedDate(t,s.outputdateformat)+" - "+g.getFormattedDate(e,s.outputdateformat):"")},a._checkUpdatedTaskWidth=function(t,e){var a=this.data("drag-options").dataset.getFromEnv("chart"),n=a.getChildren("xAxis")[0],o=a.config.viewPortConfig,i=o.x,r=o.scaleX,s=n.getPixel(t)+i*r,l=n.getPixel(e)+i*r;return 3<Math.round(l-s)},a.dragStartWidthHandler=function(t){this.data("drag-options").dataset._dragStartWidthHandler.call(this,t)},a._dragStartWidthHandler=function(){var t,e,a,n=this.data("drag-options"),o=n.dataObj,i=o.graphics.element,r=i.getBBox(),s=o.config,l=n.dataset,c=l.getFromEnv("dataSource"),d=c.chart,h=l.getFromEnv("number-formatter"),g=l.getFromEnv("chart"),p=(Array.isArray(null==c?void 0:c.tasks)?null==c||null==(t=c.tasks[0])?void 0:t.task:null==c||null==(e=c.tasks)?void 0:e.task)[null==s?void 0:s.index],u=s.dragStart||(s.dragStart={}),v=s.dragData||(s.dragData={}),b=n.taskbarElement,x=n.direction;n.tempStartMs=o.startMs,n.tempEndMs=o.endMs,u.xPos="left"===x?s.xPos:s.xPos+b.attrs.width,u.x=s.xPos,u.bBox=r;var k=f(p.start);v.prevStartDate=h.getFormattedDate(s.startMs,k?"mm/dd/yyyy hh:mn:ss":d.dateformat),v.prevEndDate=h.getFormattedDate(s.endMs,k?"mm/dd/yyyy hh:mn:ss":d.dateformat),u.origX=u.lastDx||(u.lastDx=0),a=i.data(m),g.fireChartInstanceEvent("dataplotdragstart",a)},a.dragMoveWidthHandler=function(t,e){var a=this.data("drag-options").dataset,n=e[0],o=e[1],i=e[2],r=e[3];a._dragMoveWidthHandler.call(this,n,o,i,r)},a._dragMoveWidthHandler=function(t){var e,a,n,o,i,r,s,l,d,h,g,p,m,v,b=t,x=this.data("drag-options"),k=x.dataObj,C=x.taskbarElement,y=x.direction,w=x.dataset,F=w.config,P=w.getFromEnv("dataSource"),A=P.chart,D=Array.isArray(null==P?void 0:P.tasks)?null==P||null==(e=P.tasks[0])?void 0:e.task:null==P||null==(a=P.tasks)?void 0:a.task,L=w.getFromEnv("chart"),S=L.components.tasksMap,T=w.getFromEnv("number-formatter"),E=w.getFromEnv("yAxis"),N=w.getFromEnv("xAxis").config.processes.processMap,M=w.components.data,_=k.graphics.element,B=k.config,V=B.id,O=null==B?void 0:B.index,H=D[O],I=(0,c.getFirstValue)((0,c.pluck)(H.label,H.name),""),R=Math.min((0,c.pluckNumber)(H.percentcomplete,-1),100),W=B.dragStart,G=B.dragData,z=W.bBox.x+b,j=W.bBox.x2+b,U=w.getFromEnv("chartConfig"),X=U.canvasLeft,K="",Y=E.getPixel(U.scrollOptions.viewPortMax),Z=U.dateintooltip;U.scrolltodate&&(X+=l=U.viewPortConfig.scaleX*U.viewPortConfig.x,Y+=l);var J=-1===Math.sign(Y-X-(W.bBox.x2-W.bBox.x));if(z<X&&!J&&"left"===y&&-1===Math.sign(t)&&(b+=X+1.5-z),j>Y&&!J&&"right"===y&&1===Math.sign(t)&&(b-=j-Y),b&&_.data("fire_click_event",0),H&&(void 0!==(K=(0,c.getValidValue)((0,c.parseUnsafeString)((0,c.pluck)(H.tooltext,F.hovertext,F.plottooltext,A.plottooltext),!1)))?(V&&N[V]&&(r=N[V].catObj.label||N[V].catObj.name),K=(0,c.parseTooltext)(K,[3,28,29,30,31],{end:T.getFormattedDate(k.config.endMs,A.outputdateformat),start:T.getFormattedDate(k.config.startMs,A.outputdateformat),label:I,percentComplete:-1!==R?T.percentValue(R):"",processName:r},w.config)):K=(""!==I?I+(Z?", ":""):"")+(Z?T.getFormattedDate(k.config.startMs,A.outputdateformat)+" - "+T.getFormattedDate(k.config.endMs,A.outputdateformat):"")),W.lastDx=b,g=f(H.start),"left"===y){var $,q,Q,tt,et,at;if(1===Math.sign(t)&&3===k.graphics.element.attrs.width)return;var nt=Object.values(S).filter((function(t){return t.graphics.element.attrs.y===C.attrs.y})).sort((function(t,e){return t.graphics.element.attrs.x-e.graphics.element.attrs.x})),ot=null==nt?void 0:nt.findIndex((function(t,e){var a;return t.graphics.element.attrs.y===C.attrs.y&&t.graphics.element.attrs.x===C.attrs.x&&"Delay"!==(null==(a=D[e])?void 0:a.label)}));if(v=nt[ot+1],m=null==($=nt[ot+1])?void 0:$.config,p=null==(q=v)||null==(Q=q.graphics)?void 0:Q.element,h=null==(tt=nt[ot-1])||null==(et=tt.graphics)?void 0:et.element,1===Math.sign(t)&&p&&m&&"Delay"===(null==(at=D[m.index])?void 0:at.label)&&k.graphics.element.attrs.width===p.attrs.width+1)return;if(k.config.startMs=E.getDraggedValue(W.xPos+W.lastDx),!A.allowtaskbaroverlap&&-1===Math.sign(t)&&h&&h.attrs.x+h.attrs.width>=this.attrs.x&&h.attrs.y===this.attrs.y&&(k.config.startMs=E.getDraggedValue(h.attrs.x+h.attrs.width)),G.updatedStartDate!==T.getFormattedDate(k.config.startMs,g?"mm/dd/yyyy hh:mn:ss":A.dateformat)){var it=JSON.parse(JSON.stringify(G));L.fireChartInstanceEvent("dataplotdragmove",it)}if(G.updatedStartDate=T.getFormattedDate(k.config.startMs,g?"mm/dd/yyyy hh:mn:ss":A.dateformat),H.start=G.updatedStartDate,G.updatedEndDate=G.prevEndDate,"0"===(null==H?void 0:H.showasgroup)&&w._checkUpdatedTaskWidth.call(this,E.getDraggedValue(k.config.dragStart.xPos+k.config.dragStart.lastDx-k.graphics.element.attrs.width),k.config.endMs,i)){if(H.processid.includes(".1")){var rt=w.components.data.find((function(t){return t.config.processId+".1"===H.processid})),st=S[rt.config.processId+"-a"],lt=S[rt.config.processId+"-b"];lt.config.startMs<st.config.startMs?(rt.config._startDate=lt.config._startDate,rt.config.startMs=lt.config.startMs):(rt.config._startDate=G.updatedStartDate,rt.config.startMs=k.config.startMs),lt.config.endMs<st.config.endMs?(rt.config._endDate=G.updatedEndDate,rt.config.endMs=k.config.endMs):(rt.config._endDate=lt.config._endDate,rt.config.endMs=lt.config.endMs),rt.config.toolText=w._getParentToolTextOnDrag.call(this,rt.config.startMs,rt.config.endMs,rt.config),w.parsePlotAttributes(rt,i-1)}if(H.processid.includes(".2")){var ct=w.components.data.find((function(t){return t.config.processId+".2"===H.processid})),dt=S[ct.config.processId+"-a"],ht=S[ct.config.processId+"-b"];ht.config.endMs<dt.config.endMs?(ct.config._endDate=dt.config._endDate,ct.config.endMs=dt.config.endMs):(ct.config._endDate=G.updatedEndDate,ct.config.endMs=k.config.endMs),ht.config.startMs<dt.config.startMs?(ct.config._startDate=G.updatedStartDate,ct.config.startMs=k.config.startMs):(ct.config._startDate=dt.config._startDate,ct.config.startMs=dt.config.startMs),ct.config.toolText=w._getParentToolTextOnDrag.call(this,ct.config.startMs,ct.config.endMs,ct.config),w.parsePlotAttributes(ct,i-2)}}}else if("right"===y){var gt,pt,ut,ft,mt;if(-1===Math.sign(t)&&3===k.graphics.element.attrs.width)return;var vt=Object.values(S).filter((function(t){return t.graphics.element.attrs.y===C.attrs.y})).sort((function(t,e){return t.graphics.element.attrs.x-e.graphics.element.attrs.x})),bt=null==vt?void 0:vt.findIndex((function(t,e){var a;return t.graphics.element.attrs.y===C.attrs.y&&t.graphics.element.attrs.x===C.attrs.x&&"Delay"!==(null==(a=D[e])?void 0:a.label)}));if(v=vt[bt+1],m=null==(gt=vt[bt+1])?void 0:gt.config,p=null==(pt=v)||null==(ut=pt.graphics)?void 0:ut.element,-1===Math.sign(t)&&p&&m&&"Delay"===(null==(ft=D[m.index])?void 0:ft.label)&&k.graphics.element.attrs.width===p.attrs.width+1)return;if(k.config.endMs=E.getDraggedValue(W.xPos+W.lastDx),p&&m&&"Delay"===(null==(mt=D[m.index])?void 0:mt.label)?(m.endMs=k.config.endMs,m.startMs=E.getDraggedValue(W.xPos+W.lastDx-p.attrs.width),w.parsePlotAttributes(v,i+1)):!A.allowtaskbaroverlap&&1===Math.sign(t)&&p&&this.attrs.x+this.attrs.width>=p.attrs.x&&p.attrs.y===this.attrs.y&&(k.config.endMs=E.getDraggedValue(p.attrs.x)),G.updatedEndDate!==T.getFormattedDate(k.config.endMs,g?"mm/dd/yyyy hh:mn:ss":A.dateformat)){var xt=JSON.parse(JSON.stringify(G));L.fireChartInstanceEvent("dataplotdragmove",xt)}if(G.updatedStartDate=G.prevStartDate,G.updatedEndDate=T.getFormattedDate(k.config.endMs,g?"mm/dd/yyyy hh:mn:ss":A.dateformat),H.end=G.updatedEndDate,"0"===(null==H?void 0:H.showasgroup)&&w._checkUpdatedTaskWidth.call(this,E.getDraggedValue(k.config.dragStart.xPos+k.config.dragStart.lastDx-k.graphics.element.attrs.width),k.config.endMs,i)){if(H.processid.includes(".1")){var kt=w.components.data.find((function(t){return t.config.processId+".1"===H.processid})),Ct=S[kt.config.processId+"-a"],yt=S[kt.config.processId+"-b"];yt.config.startMs<Ct.config.startMs?(kt.config._startDate=yt.config._startDate,kt.config.startMs=yt.config.startMs):(kt.config._startDate=G.updatedStartDate,kt.config.startMs=k.config.startMs),yt.config.endMs<Ct.config.endMs?(kt.config._endDate=G.updatedEndDate,kt.config.endMs=k.config.endMs):(kt.config._endDate=yt.config._endDate,kt.config.endMs=yt.config.endMs),kt.config.toolText=w._getParentToolTextOnDrag.call(this,kt.config.startMs,kt.config.endMs,kt.config),w.parsePlotAttributes(kt,i-1)}if(H.processid.includes(".2")){var wt=w.components.data.find((function(t){return t.config.processId+".2"===H.processid})),Ft=S[wt.config.processId+"-a"],Pt=S[wt.config.processId+"-b"];Pt.config.endMs<Ft.config.endMs?(wt.config._endDate=Ft.config._endDate,wt.config.endMs=Ft.config.endMs):(wt.config._endDate=G.updatedEndDate,wt.config.endMs=k.config.endMs),Pt.config.startMs<Ft.config.startMs?(wt.config._startDate=G.updatedStartDate,wt.config.startMs=k.config.startMs):(wt.config._startDate=Ft.config._startDate,wt.config.startMs=Ft.config.startMs),wt.config.toolText=w._getParentToolTextOnDrag.call(this,wt.config.startMs,wt.config.endMs,wt.config),w.parsePlotAttributes(wt,i-2)}}}for(k.config.toolText=K,G.index=null==k||null==(n=k.config)?void 0:n.index,G.id=null==k?void 0:k.config.taskId,i=0,s=M.length;i<s&&(d=M[i],k.config.index!==d.config.index);i++);w._checkUpdatedTaskWidth.call(this,k.config.startMs,k.config.endMs,k.config.endMs,i)&&(x.tempStartMs=k.config.startMs,x.tempEndMs=k.config.endMs,(null==(o=P.connectors)?void 0:o.length)>0&&(D[O]=u(u({},D[O]),{},{start:T.getFormattedDate(k.config.startMs,A.dateformat),end:T.getFormattedDate(k.config.endMs,A.dateformat)}),P.tasks=[u(u({},P.tasks[0]),{},{task:D})],w._linkedParent.getChildren().connector&&(w._linkedParent.getChildren().connector[0]._state.dragged=!0,w._linkedParent.getChildren().connector[0].draw())),w.parsePlotAttributes(k,i),w&&w.draw(),w._linkedParent.getChildren().connector&&(w._linkedParent.getChildren().connector[0]._state.dragged=!1))},a.dragStart=function(t){var e=this,a=e.data("drag-options").dataset,n=a.getFromEnv("chart").components.tasksMap;a._dragStart.call(e,t);var o=Object.values(n).filter((function(t){return t.graphics.element.attrs.y===e.attrs.y})).sort((function(t,e){return t.graphics.element.attrs.x-e.graphics.element.attrs.x}));e.data("arrayOfAdjacentElements",o)},a._dragStart=function(){var t,e=this.data("drag-options"),a=e.dataObj,n=a.graphics.element,o=n.getBBox(),i=a.config,r=e.dataset,s=r.getFromEnv("dataSource").chart,l=r.getFromEnv("number-formatter"),c=r.getFromEnv("chart"),d=i.dragStart||(i.dragStart={}),h=i.dragData||(i.dragData={});d.xPos=i.xPos,d.x=i.xPos,d.bBox=o,h.prevStartDate=l.getFormattedDate(i.startMs,s.dateformat),h.prevEndDate=l.getFormattedDate(i.endMs,s.dateformat),d.origX=d.lastDx||(d.lastDx=0),t=n.data(m),c.fireChartInstanceEvent("dataplotdragstart",t)},a.dragMove=function(t,e){var a=this,n=a.data("drag-options"),r=n.dataset,s=r.getFromEnv("dataSource").chart,l=a.data("arrayOfAdjacentElements"),c=e[0],d=e[1],h=e[2],g=e[3];function p(){return(p=(0,i["default"])(o["default"].mark((function t(){var e,n,i,r,s,c,d,h,g,p,u;return o["default"].wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d=null==l?void 0:l.findIndex((function(t){return t.graphics.element.attrs.y===a.attrs.y&&t.graphics.element.attrs.x===a.attrs.x})),s=null==(e=l[d-1])||null==(n=e.graphics)?void 0:n.element,0!==l.length||s||(s=null==a||null==(h=a.prev)||null==(g=h.prev)?void 0:g.prev),c=null==(i=l[d+1])||null==(r=i.graphics)?void 0:r.element,0!==l.length||c||(c=null==a||null==(p=a.next)||null==(u=p.next)?void 0:u.next),t.abrupt("return",{nextEl:c,prev:s});case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}s.allowtaskbaroverlap?r._dragMove.call(a,c,d,h,g):function(){return p.apply(this,arguments)}().then((function(t){n.nextElement=t.nextEl,n.prevElement=t.prev,r._dragMove.call(a,c,d,h,g,t.nextEl,t.prev)}))},a._dragMove=function(t,e,a,n,o,i){var r,s,l,d,h,g,p,m,v,b,x,k,C,y,w,F=t,P=this.data("drag-options"),A=P.dataObj,D=P.dataset,L=D.config,S=D.getFromEnv("dataSource"),T=Array.isArray(null==S?void 0:S.tasks)?null==S||null==(r=S.tasks[0])?void 0:r.task:null==S||null==(s=S.tasks)?void 0:s.task,E=A.config,N=E.id,M=null==E?void 0:E.index,_=T[M],B=S.chart,V=D.getFromEnv("chart"),O=D.getFromEnv("number-formatter"),H=D.getFromEnv("yAxis"),I=D.getFromEnv("xAxis").config.processes.processMap,R=D.components.data,W=A.graphics.element,G=(0,c.getFirstValue)((0,c.pluck)(_.label,_.name),""),z=Math.min((0,c.pluckNumber)(_.percentcomplete,-1),100),j=V.components.tasksMap,U=E.dragStart,X=E.dragData,K=U.bBox.x+F,Y=U.bBox.x2+F,Z=D.getFromEnv("chartConfig"),J=Z.canvasLeft,$="",q=H.getPixel(Z.scrollOptions.viewPortMax),Q=Z.dateintooltip,tt=T[M+1],et=T[M-1],at=T[M],nt=""+(null==tt?void 0:tt.id),ot=""+(null==et?void 0:et.id),it=""+(null==at?void 0:at.id),rt=null==(l=j[nt])?void 0:l.config,st=null==(d=j[ot])?void 0:d.config,lt=(null==tt?void 0:tt.processid)===(null==_?void 0:_.processid)&&"Delay"===(null==tt?void 0:tt.label)||(null==et?void 0:et.processId)===(null==_?void 0:_.processid)&&"Delay"===(null==et?void 0:et.label)||"Delay"===(null==_?void 0:_.label),ct="Delay"===(null==_?void 0:_.label);if(Z.scrolltodate&&(J+=k=Z.viewPortConfig.scaleX*Z.viewPortConfig.x,q+=k),ct){var dt,ht=null==(dt=j[it])?void 0:dt.config.width;(w=K-(st.width-ht))<J&&(F+=J+1.5-w)}else K<J&&(F+=J+1.5-K);if(Y>q&&(F-=Y-q),F&&W.data("fire_click_event",0),_&&(void 0!==($=(0,c.getValidValue)((0,c.parseUnsafeString)((0,c.pluck)(_.tooltext,L.hovertext,L.plottooltext,B.plottooltext),!1)))?(N&&I[N]&&(b=I[N].catObj.label||I[N].catObj.name),$=(0,c.parseTooltext)($,[3,28,29,30,31],{end:O.getFormattedDate(A.config.endMs,B.outputdateformat),start:O.getFormattedDate(A.config.startMs,B.outputdateformat),label:G,percentComplete:-1!==z?O.percentValue(z):"",processName:b},D.config)):$=(""!==G?G+(Q?", ":""):"")+(Q?O.getFormattedDate(A.config.startMs,B.outputdateformat)+" - "+O.getFormattedDate(A.config.endMs,B.outputdateformat):"")),y=f(_.start),U.lastDx=F,A.config.startMs=H.getDraggedValue(U.xPos+U.lastDx),X.updatedStartDate!==O.getFormattedDate(A.config.startMs,y?"dd/mm/yyyy hh:mn:ss":B.dateformat)){var gt=JSON.parse(JSON.stringify(X));V.fireChartInstanceEvent("dataplotdragmove",gt)}A.config.endMs=H.getDraggedValue(U.xPos+U.lastDx+A.config.width);var pt=!(null==A||null==(h=A.graphics)||!h.taskFill)&&(null==A||null==(g=A.graphics)?void 0:g.taskFill.id)===o.id;if(!lt&&1===Math.sign(t)&&!pt&&o&&this.attrs.x+this.attrs.width>=o.attrs.x&&o.attrs.y===this.attrs.y?(A.config.startMs=H.getDraggedValue(o.attrs.x-A.config.width),A.config.endMs=H.getDraggedValue(o.attrs.x)):!lt&&-1===Math.sign(t)&&i&&i.attrs.x+i.attrs.width>=this.attrs.x&&(null==P?void 0:P.prevElement.attrs.y)===this.attrs.y?(A.config.startMs=H.getDraggedValue(i.attrs.x+i.attrs.width),A.config.endMs=H.getDraggedValue(i.attrs.x+i.attrs.width+A.config.width)):lt&&("Delay"!==_.label&&tt&&rt?(rt.startMs=H.getDraggedValue(U.xPos+U.lastDx+A.config.width-j[""+tt.id].graphics.element.attrs.width),rt.endMs=H.getDraggedValue(U.xPos+U.lastDx+A.config.width),D.parsePlotAttributes(j[""+tt.id],v+1)):"Delay"===_.label&&et&&st&&(st.startMs=H.getDraggedValue(U.xPos+U.lastDx+A.config.width-j[""+et.id].graphics.element.attrs.width),st.endMs=H.getDraggedValue(U.xPos+U.lastDx+A.config.width),D.parsePlotAttributes(j[""+et.id],v-1))),A.config.toolText=$,X.updatedStartDate=O.getFormattedDate(A.config.startMs,y?"dd/mm/yyyy hh:mn:ss":B.dateformat),X.updatedEndDate=O.getFormattedDate(A.config.endMs,y?"dd/mm/yyyy hh:mn:ss":B.dateformat),X.index=null==A||null==(p=A.config)?void 0:p.index,X.id=null==A?void 0:A.config.taskId,"1"===(null==_?void 0:_.showasgroup)){var ut,ft,mt=j[_.processid+"-a"],vt=j[_.processid+"-b"];if((null==mt||null==(ut=mt.config)?void 0:ut.endMs)<(null==vt||null==(ft=vt.config)?void 0:ft.endMs)){var bt=H.getDraggedValue(U.xPos+U.lastDx+(null==mt?void 0:mt.config.width)),xt=O.getFormattedDate(bt,B.dateformat),kt=H.getDraggedValue(U.xPos+U.lastDx+(A.config.width-(null==vt?void 0:vt.config.width))),Ct=O.getFormattedDate(kt,B.dateformat);vt.config.startMs>=mt.config.startMs?(mt&&(mt.config._startDate=X.updatedStartDate,mt.config.startMs=A.config.startMs,mt.config._endDate=xt,mt.config.endMs=bt,D.parsePlotAttributes(mt,v+1),mt.config.toolText=D._getParentToolTextOnDrag.call(this,mt.config.startMs,mt.config.endMs,mt.config)),vt&&(vt.config._startDate=Ct,vt.config.startMs=kt,vt.config._endDate=X.updatedEndDate,vt.config.endMs=A.config.endMs,D.parsePlotAttributes(vt,v+2),vt.config.toolText=D._getParentToolTextOnDrag.call(this,vt.config.startMs,vt.config.endMs,vt.config))):vt&&(vt.config._startDate=Ct,vt.config.startMs=kt,vt.config._endDate=X.updatedEndDate,vt.config.endMs=A.config.endMs,D.parsePlotAttributes(vt,v+2),vt.config.toolText=D._getParentToolTextOnDrag.call(this,vt.config.startMs,vt.config.endMs,vt.config))}else{var yt,wt,Ft=H.getDraggedValue(U.xPos+U.lastDx+(null==vt?void 0:vt.config.width)),Pt=O.getFormattedDate(Ft,B.dateformat),At=H.getDraggedValue(U.xPos+U.lastDx+(A.config.width-(null==mt?void 0:mt.config.width))),Dt=O.getFormattedDate(At,B.dateformat);(null==vt||null==(yt=vt.config)?void 0:yt.startMs)<(null==mt||null==(wt=mt.config)?void 0:wt.startMs)?(mt&&(mt.config._startDate=Dt,mt.config.startMs=At,mt.config._endDate=X.updatedEndDate,mt.config.endMs=A.config.endMs,D.parsePlotAttributes(mt,v+1),mt.config.toolText=D._getParentToolTextOnDrag.call(this,mt.config.startMs,mt.config.endMs,mt.config)),vt&&(vt.config._startDate=X.updatedStartDate,vt.config.startMs=A.config.startMs,vt.config._endDate=Pt,vt.config.endMs=Ft,D.parsePlotAttributes(vt,v+2),vt.config.toolText=D._getParentToolTextOnDrag.call(this,vt.config.startMs,vt.config.endMs,vt.config))):mt&&(mt.config._startDate=Dt,mt.config.startMs=At,mt.config._endDate=X.updatedEndDate,mt.config.endMs=A.config.endMs,D.parsePlotAttributes(mt,v+1),mt.config.toolText=D._getParentToolTextOnDrag.call(this,mt.config.startMs,mt.config.endMs,mt.config))}}if("0"===(null==_?void 0:_.showasgroup)){if(_.processid.includes(".1")){var Lt=D.components.data.find((function(t){return t.config.processId+".1"===_.processid})),St=j[Lt.config.processId+"-a"],Tt=j[Lt.config.processId+"-b"],Et=Tt.config.endMs,Nt=Tt.config.startMs;Et||(Et=H.getDraggedValue(Tt.config.dragStart.xPos+Tt.config.dragStart.lastDx+(null==Tt?void 0:Tt.config.width))),Nt||(Nt=H.getDraggedValue(Tt.config.dragStart.xPos+Tt.config.dragStart.lastDx)),Nt<St.config.startMs?(Lt.config._startDate=Tt.config._startDate,Lt.config.startMs=Nt):(Lt.config._startDate=X.updatedStartDate,Lt.config.startMs=A.config.startMs),Et<St.config.endMs?(Lt.config._endDate=X.updatedEndDate,Lt.config.endMs=A.config.endMs):(Lt.config._endDate=Tt.config._endDate,Lt.config.endMs=Et),Lt.config.toolText=D._getParentToolTextOnDrag.call(this,Lt.config.startMs,Lt.config.endMs,Lt.config),D.parsePlotAttributes(Lt,v-1)}if(_.processid.includes(".2")){var Mt=D.components.data.find((function(t){return t.config.processId+".2"===_.processid})),_t=j[Mt.config.processId+"-a"],Bt=j[Mt.config.processId+"-b"],Vt=_t.config.endMs,Ot=_t.config.startMs;Vt||(Vt=H.getDraggedValue(_t.config.dragStart.xPos+_t.config.dragStart.lastDx+(null==_t?void 0:_t.config.width))),Ot||(Ot=H.getDraggedValue(_t.config.dragStart.xPos+_t.config.dragStart.lastDx)),Bt.config.endMs<Vt?(Mt.config._endDate=_t.config._endDate,Mt.config.endMs=Vt):(Mt.config._endDate=X.updatedEndDate,Mt.config.endMs=A.config.endMs),Bt.config.startMs<Ot?(Mt.config._startDate=X.updatedStartDate,Mt.config.startMs=A.config.startMs):(Mt.config._startDate=_t.config._startDate,Mt.config.startMs=Ot),Mt.config.toolText=D._getParentToolTextOnDrag.call(this,Mt.config.startMs,Mt.config.endMs,Mt.config),D.parsePlotAttributes(Mt,v-2)}}for(v=0,x=R.length;v<x&&(C=R[v],A.config.index!==C.config.index);v++);(null==(m=S.connectors)?void 0:m.length)>0&&(T[M]=u(u({},T[M]),{},{start:O.getFormattedDate(A.config.startMs,B.dateformat),end:O.getFormattedDate(A.config.endMs,B.dateformat)}),S.tasks=[u(u({},S.tasks[0]),{},{task:T})],D._linkedParent.getChildren().connector&&(D._linkedParent.getChildren().connector[0]._state.dragged=!0,D._linkedParent.getChildren().connector[0].draw())),D.parsePlotAttributes(A,v),D&&D.draw(),D._linkedParent.getChildren().connector&&(D._linkedParent.getChildren().connector[0]._state.dragged=!1),D.taskHoverHandler.call(this,V)},a.dragUp=function(t){this.data("drag-options").dataset._dragUp.call(this,t)},a._dragUp=function(t){var e,a,n,o=this.data("drag-options"),i=o.dataObj,r=o.dataset,s=r.getFromEnv("dataSource"),l=null==s||null==(e=s.datatable)?void 0:e.datacolumn,c=i.config,d=c.id,h=null==c?void 0:c.index,g=o.direction,p=r.getFromEnv("number-formatter"),f=Array.isArray(null==s?void 0:s.tasks)?null==s||null==(a=s.tasks[0])?void 0:a.task:null==s||null==(n=s.tasks)?void 0:n.task,m=f[h],v=s.chart,b=r.getFromEnv("chart"),x=b.components.tasksMap;if(v.autoupdatestartenddatecolumn&&"Actual"===m.label&&(null==l?void 0:l.length)>0){var k,C=Number(d)-1,y=f[h+1],w=null==(k=x[""+(null==y?void 0:y.id)])?void 0:k.config,F=(null==y?void 0:y.processid)===(null==m?void 0:m.processid)&&"Delay"===(null==y?void 0:y.label)||"Delay"===(null==m?void 0:m.label);C>=0&&(s.datatable.datacolumn[0].text[C].label=p.getFormattedDate(i.config.startMs,v.dateformat),s.datatable.datacolumn[1].text[C].label=p.getFormattedDate(i.config.endMs,v.dateformat),F&&(f[w.index]=u(u({},f[w.index]),{},{start:p.getFormattedDate(w.startMs,v.dateformat),end:p.getFormattedDate(w.endMs,v.dateformat)}),s.tasks=[u(u({},s.tasks[0]),{},{task:f})])),b._env.chartInstance.setChartData(s)}if(r._linkedParent.getChildren().connector&&(r._linkedParent.getChildren().connector[0]._state.dragged=!0,r._linkedParent.getChildren().connector[0].draw()),r.taskHoverOutHandler.call(this,b),"Actual"===m.label&&g&&"left"===g){var P,A=f[h+1],D=null==(P=x[""+(null==A?void 0:A.id)])?void 0:P.config;i.config.startMs>D.startMs&&(i.config.startMs=D.startMs)}else o.tempStartMs&&(i.config.startMs=o.tempStartMs),o.tempEndMs&&(i.config.endMs=o.tempEndMs)},a.slackElemHandlers=function(t,e){var a=this;t&&t.on("fc-click",(function(t){e.plotEventHandler(this,t)})).hover((function(t){var n=this.data("dataObj");e.plotEventHandler(this,t,"DataPlotRollOver"),n.config.showHoverEffect&&a.taskHoverHandler.call(this,e)}),(function(t){var n=this.data("dataObj");e.plotEventHandler(this,t,"DataPlotRollOut"),n.config.showHoverEffect&&a.taskHoverOutHandler.call(this,e)}))},a.trimData=function(t){if(this.config.JSONData){var e,a,n=this.config,o=n&&n.context,i=o&&o.prevCatlen,r=this.getFromEnv("xAxis").getProcessLen(),s=i-r,l=n.JSONData,c=l.task&&l.task.length,d=t.task&&t.task.length||0,h=c-d;s>h?(e=s,a=r):(e=h,a=d),e>0&&this.removeData(a,e,!1)}},a.getAxisValuePadding=function(){return this.config.defaultPadding},a.drawLabel=function(){var t,e,a,n,o,i,r,s,l,c,d,h,g,p,u=this.config,f=this.getFromEnv("chart"),m=this.getFromEnv("animationManager"),v=this.components.data,b=this.getContainer("dataLabelContainer"),x=v.length;for(p=0;p<x;p++)r=(l=v[p]).config,s=l.graphics,c=r.eventArgs,t=s.valElem,d=r._labelTextAttr,y(r.label)&&""!==r.label&&d?((n=s.valElem=m.setAnimation({el:t||"text",attr:d,container:b,component:this})).outlineText(u.showTextOutline,d.fill),t?(n.removeCSS(),n.show()):(n.data("dataset",this),this.slackElemHandlers(n,f)),n.css(r.style),n.data("dataObj",l).data("dataObj",l).data("eventArgs",c)):t&&m.setAnimation({el:t,component:this,callback:C,doNotRemove:!0}),e=s.startValElem,h=r._startLabelTextAttr,y(r.startDate)&&""!==r.startDate&&h?((o=s.startValElem=m.setAnimation({el:e||"text",attr:h,container:b,component:this})).outlineText(u.showTextOutline,h.fill),e?(o.removeCSS(),o.show()):(o.data("dataset",this),this.slackElemHandlers(o,f)),o.css(r.style),o.data("dataObj",l).data("chart",f).data("eventArgs",c)):e&&m.setAnimation({el:e,component:this,callback:C,doNotRemove:!0}),a=s.endValElem,g=r._endLabelTextAttr,y(r.endDate)&&""!==r.endDate&&g?((i=s.endValElem=m.setAnimation({el:a||"text",attr:g,container:b,component:this})).outlineText(u.showTextOutline,g.fill),a?(i.removeCSS(),i.show().css(r.style)):(i.data("dataset",this),this.slackElemHandlers(i,f)),i.data("dataObj",l).data("chart",f).data("eventArgs",c)):a&&m.setAnimation({el:a,component:this,callback:C,doNotRemove:!0})},a.taskHoverHandler=function(){var t=this.data("dataObj")||{},e=this.data("dataset").components.data,a=t.config||{},n=a.index,o=e[n]&&e[n].graphics,i={fill:a.hoverFillColor,stroke:a.hoverBorderColor};-1===a.percentComplete||a.showAsGroup||(o.slackElem.attr({fill:a.slackHoverColor}),o.taskFill.attr({fill:a.hoverFillColor}),delete i.fill),o.element.attr(i)},a.taskHoverOutHandler=function(){var t=this.data("dataObj")||{},e=(this.data("dataset")||{}).components.data,a=t.config||{},n=a.index,o=e[n]&&e[n].graphics,i={fill:a.color,stroke:a.borderColor,"stroke-width":a.borderThickness,"stroke-dasharray":a.dashedStyle};-1===a.percentComplete||a.showAsGroup||(o&&o.slackElem.attr({fill:a.slackColor}),o&&o.taskFill.attr({fill:a.color}),delete i.fill),o&&o.element.attr(i)},a.parsePlotAttributes=function(t,e){var a,n,o,i,r,s,l,d,h,g,p,u,f,m,k,C,y,w,A,D,L,S,T,E,N,M,_,B,V,O,H=this.getFromEnv("chart"),I=H.getFromEnv("dataSource"),R=H.config,W=R.canvasTop,G=H.getChildren("xAxis")[0],z=H.getChildren("yAxis")[0],j=e,U=R.datepadding,X=I.processes.process&&I.processes.process.length,K=R.taskbarroundradius,Y=R.viewPortConfig,Z=Y.x,J=Y.scaleX;s=t&&t.config,!t.graphics&&(t.graphics={}),d=s&&s.startMs,h=s&&s.endMs,void 0!==t&&void 0!==d&&null!==h&&(N=s.taskHeight,g=s.link,w=s.borderThickness,u=s.id,T=s.color,O=s.lineHeight,j>X-1&&(j=0),V="undefined"!=typeof s.id?z.getProcessPositionById(u):z.getProcessPositionByIndex(j),j++,E=(f=V.height)*(F(s.topPadding)&&.01*parseFloat(s.topPadding,10))||(0,c.pluckNumber)(s.topPadding,f),p=s.height=f*(F(N)&&.01*parseFloat(N,10))||(0,c.pluckNumber)(N,f),C=s.xPos=G.getPixel(s.startMs)+Z*J,l=G.getPixel(s.endMs)+Z*J,m=s.width=Math.round(k=l-C),y=V.bottom+W-f,y=s.yPos=y+Math.min(E,f-p),L=.5*p,C=(D=(0,c.crispBound)(C,y,m,p,w)).x,y=D.y,m=D.width,p=D.height,!1!==P(C,y,m,p)?(s.props={element:{},perComElem:{},slackElem:{}},A=s.showAsGroup?{path:["M",C,y,"V",y+p,"L",C+L,y+L,"H",C+m-L,"L",C+m,y+p,"V",y,"H",C]}:{x:D.x,y:D.y,width:D.width||1,height:p},Object.assign(A,{fill:T,stroke:s.borderColor,cursor:g?"pointer":null!=this&&null!=(a=this.config)&&a.allowDrag?"move":"",r:K,"stroke-width":w,width:D.width||1}),s.eventArgs={processId:s.processId,taskId:s.taskId,start:s._startDate,end:s._endDate,showAsGroup:s.showAsGroup,link:s.link,sourceType:"task",percentComplete:-1!==s.percentComplete,bgColor:s.rawTaskColor,bgAlpha:s.rawTaskAlpha,font:s.textFont,fontSize:s.textFontSize,fontColor:s.textColor},-1===s.percentComplete||s.showAsGroup||(k=m*s.percentComplete*.01,T=c.TRACKER_FILL,s.props.perComElem={attr:{x:C,y:y,height:p,width:k,fill:s.color,cursor:g?"pointer":"","stroke-width":0}},s.props.slackElem={attr:{x:C+k||1,y:y,width:m-k,height:p,fill:s.slackColor,cursor:g?"pointer":"","stroke-width":0}},A.fill=T),S=s.labelAlign,M=s._labelTextAttr||(s._labelTextAttr={}),s.props.element.attr=A,M.x=C+m*b[S]+x[S],M.y=y-.5*parseInt(O,10)-R.tasklabelspadding,M.text=s.label,M.direction=R.textDirection,M["text-anchor"]=v[S],M.cursor=void 0,M.fill=(0,c.convertColor)(s.textColor),M["line-height"]=O,(B=s._startLabelTextAttr||(s._startLabelTextAttr={})).x=C-2-U,B.y=y+.5*p,B.text=s.startDate,B["text-anchor"]=c.POSITION_END,B.cursor=void 0,B.direction=R.textDirection,B.fill=(0,c.convertColor)(s.textColor),B["line-height"]=O,B["font-size"]=null==(n=s)||null==(o=n.style)?void 0:o.fontSize,(_=s._endLabelTextAttr||(s._endLabelTextAttr={})).x=C+m+2+U,_.y=y+.5*p,_.text=s.endDate,_.cursor=void 0,_.direction=R.textDirection,_["text-anchor"]=c.POSITION_START,_.fill=(0,c.convertColor)(s.textColor),_["line-height"]=O,_["font-size"]=null==(i=s)||null==(r=i.style)?void 0:r.fontSize,s.cursor=void 0):s.inValidValue=!0)},a.allocatePosition=function(){var t,e,a=this.components.data||[],n=a.length;for(t=0;t<n;t++)e=a[t],this.parsePlotAttributes(e,t)},a._removeDataVisuals=function(t){var e,a,n,o=this.getFromEnv("animationManager");if(t)for(e in a=t.graphics)(n=a[e])&&o.setAnimation({el:n,component:this})},a.draw=function(){var t,e,a,n,o,i,r,s,l,c,d,h,p,u,f,m,v,b,x=this.getState("visible"),k=this.getFromEnv("chart"),y=this.getFromEnv("toolTipController"),w=k.config,F=k.getChildren("canvas")[0],P=k.getChildren("xAxis")[0],A=this.getFromEnv("dataSource"),D=Array.isArray(null==A?void 0:A.tasks)?null==A||null==(t=A.tasks[0])?void 0:t.task:null==A||null==(e=A.tasks)?void 0:e.task,L=this.getFromEnv("animationManager"),S=F.getChildContainer("taskGroup"),T=this.components,E=T.data,N=T.removeDataArr,M=N&&N.length,_=k.getChildContainer("datalabelsGroup"),B=F.getContainer("labelsGroup"),V=this.getContainer("dataLabelContainer"),O=this._contextChanged(),H=this.getContainer("taskColumnContainer"),I=this.getContainer("taskColumnShadowContainer"),R=w.viewPortConfig,W=R.x,G=R.scaleX,z=w.showshadow,j=this.dragMove,U=this.dragStart,X=this.dragUp,K=this.dragMoveWidthHandler,Y=this.dragStartWidthHandler,Z=this.config;if(this.getState("removed")||this.getState("dirty")||O&&x||Z.allowDrag){for(H||(H=this.addContainer("taskColumnContainer",L.setAnimation({el:"group",attr:{name:"columns"},container:S,component:this}))),x?H.show():H.hide(),B||(B=F.addContainer("labelsGroup",L.setAnimation({el:"group",attr:{name:"task-plot-labels"},container:_,component:F}))),V?V.removeCSS():V=this.addContainer("dataLabelContainer",L.setAnimation({el:"group",attr:{name:"labels"},container:S,component:this})),x?V.show():V.hide(),B=L.setAnimation({el:B,attr:{transform:"T"+-k.config.xOffset+",0"},component:F}),V.css(Z.labelStyle),I||(I=this.addContainer("taskColumnShadowContainer",L.setAnimation({el:"group",attr:{name:"shadow"},container:S,component:this}).toBack()),x||I.hide()),n=E.length,a=0;a<n;a++){var J,$=D[null==(J=i=(o=E[a])&&o.config)?void 0:J.index];if(!o.graphics&&(o.graphics={}),r=o.graphics,s=i&&i.startMs,l=i&&i.endMs,void 0!==o&&void 0!==s&&null!==l&&(c=i.toolText,!i.inValidValue)){d=r.element,m=i.showAsGroup?"path":"rect",d&&d.type!==m&&(d.remove(),d=r.element=null),v=i.props.element.attr,r.element=L.setAnimation({el:d||m,label:m,attr:v,container:H,component:this}),d||(d=r.element,null!=Z&&Z.allowDrag&&d.drag(j,U,X),d.data("dataset",this),this.slackElemHandlers(d,k)),b=i.eventArgs;var q=i.xPos=P.getPixel(i.startMs)+W*G,Q=P.getPixel(i.endMs)+W*G,tt=i.width=Math.round(Q-q),et=d.paper.getById(o.widthHandlerRightId),at=d.paper.getById(o.widthHandlerLeftId);if(-1===i.percentComplete||i.showAsGroup?(r.taskFill&&L.setAnimation({el:r.taskFill,component:this,callback:C,doNotRemove:!0}),r.slackElem&&L.setAnimation({el:r.slackElem,component:this,callback:C,doNotRemove:!0})):(p=r.taskFill,f=r.slackElem,h=r.taskFill=L.setAnimation({el:p||"rect",attr:i.props.perComElem.attr,container:H,component:this}),p||this.slackElemHandlers(h,k),u=r.slackElem=L.setAnimation({el:f||"rect",attr:i.props.slackElem.attr,container:H,component:this}),H.node.insertBefore(h.node,d?d.node:null),H.node.insertBefore(u.node,d?d.node:null),f||this.slackElemHandlers(u,k),h.show(),h.data("chart",k).data("dataObj",o).data("dataset",this),u.show(),h&&h.data("eventArgs",b),u&&u.data("eventArgs",b).data("dataObj",o).data("dataset",this).data("chart",k)),d.show().shadow({opacity:z},I).data("dataObj",o).data("chart",k).data("dataset",this).data("eventArgs",b),null!=Z&&Z.allowDrag&&d.data("drag-options",{dataObj:o,dataset:this,datasetIndex:this.index,pointIndex:o.config.index,cursor:"move",chart:k,link:o.link}),!at&&null!=Z&&Z.allowDrag&&"Delay"!==(null==$?void 0:$.label)){var nt=d.paper.rect(d.attrs.x-1,d.attrs.y,2,d.attrs.height).attr({fill:"rgb(51, 189, 218)",stroke:"none",cursor:"ew-resize",opacity:0});nt.insertAfter(d),o.widthHandlerLeftId=nt.id,nt.drag(K,Y,X),nt.show().data("dataObj",o).data("chart",k).data("dataset",this).data("eventArgs",b),nt.data("drag-options",{dataObj:o,dataset:this,datasetIndex:this.index,pointIndex:o.config.index,cursor:"ew-resize",chart:k,link:o.link,direction:"left",taskbarElement:d}),nt.data("dataset",this)}else at&&!isNaN(d.attrs.x)&&at.attr("x",d.attrs.x-1);if(!et&&null!=Z&&Z.allowDrag&&"Delay"!==(null==$?void 0:$.label)){var ot=d.paper.rect(d.attrs.x+tt-1,d.attrs.y,2,d.attrs.height).attr({fill:"rgb(51, 189, 218)",stroke:"none",cursor:"ew-resize",opacity:0});ot.insertAfter(d),o.widthHandlerRightId=ot.id,ot.drag(K,Y,X),ot.data("drag-options",{dataObj:o,dataset:this,datasetIndex:this.index,pointIndex:o.config.index,cursor:"ew-resize",chart:k,link:o.link,direction:"right",taskbarElement:d}),ot.data("dataset",this)}else et&&!isNaN(d.attrs.x)&&et.attr("x",d.attrs.x+tt-1);y.enableToolTip(d,c)}}for(this.drawn?this.drawLabel():this.addJob("drawLabel",this.drawLabel.bind(this),g.priorityList.label),this.drawn=!0,a=0;a<M;a++)this._removeDataVisuals(N.shift())}},e}(l["default"]);e["default"]=A},1601:function(t,e,a){"use strict";e.__esModule=!0,e["default"]=void 0;e["default"]={"initial.dataset.task":function(){return{"rect.appearing":function(t){return[{initialAttr:{width:0},finalAttr:{width:t.attr.width},slot:"middle"}]},"path.appearing":function(t){var e=t.attr.path;return[{initialAttr:{path:e.slice(0,3)},finalAttr:{path:e},slot:"middle"}]}}}}},1602:function(t,e,a){"use strict";e.__esModule=!0,e["default"]=void 0;e["default"]={"initial.dataset.milestone":function(){return{"polypath.appearing":function(){return[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"middle",startEnd:{start:.9,end:1}}]}}}}},1603:function(t,e,a){"use strict";var n=a(273);e.__esModule=!0,e["default"]=void 0;var o=n(a(292)),i=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{"default":t};var a=c(e);if(a&&a.has(t))return a.get(t);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if("default"!==i&&Object.prototype.hasOwnProperty.call(t,i)){var r=o?Object.getOwnPropertyDescriptor(t,i):null;r&&(r.get||r.set)?Object.defineProperty(n,i,r):n[i]=t[i]}n["default"]=t,a&&a.set(t,n);return n}(a(1597)),r=a(278),s=n(a(1604)),l=a(286);function c(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,a=new WeakMap;return(c=function(t){return t?a:e})(t)}var d=function(t){return function(e){t.plotEventHandler(this,e,"ConnectorClick")}},h=function(t){return function(e){var a=this.data("dataObj"),n=a.config,o=t.components.tasksMap,i=o[n.fromTaskId],r=o[n.toTaskId],s={stroke:n.hoverColor,"stroke-dasharray":n.dashedStyle,"stroke-width":n.hoverThickness},l=a.graphics.connector;t.plotEventHandler(this,e,"ConnectorRollOver"),n.showHoverEffect&&([i,r].forEach((function(t){var e={fill:t.config.hoverFillColor,stroke:t.config.hoverBorderColor},a=t.config.percentComplete,n=t.graphics.slackElem,o=t.graphics.element,i=t.graphics.taskFill;a&&!t.config.showAsGroup&&(n&&n.attr({fill:t.config.slackHoverColor}),i&&i.attr({fill:t.config.hoverFillColor,stroke:t.config.hoverBorderColor}),delete e.fill),o&&o.attr(e)})),l&&l.attr(s))}},g=function(t){return function(e){var a=this.data("dataObj"),n=a.config,o=t.components.tasksMap,i=o[n.fromTaskId],r=o[n.toTaskId],s={stroke:n.color,"stroke-width":n.thickness,"stroke-dasharray":n.dashedStyle},l=a.graphics.connector;t.plotEventHandler(this,e,"ConnectorRollOut"),n.showHoverEffect&&([i,r].forEach((function(t){var e={fill:t.config.color,stroke:t.config.borderColor,"stroke-width":t.config.borderThickness,"stroke-dasharray":t.config.dashedStyle},a=t.config.percentComplete,n=t.graphics.slackElem,o=t.graphics.element,i=t.graphics.taskFill;a&&!t.config.showAsGroup&&(n&&n.attr({fill:t.config.slackColor}),i&&i.attr({fill:t.config.color}),delete e.fill),o&&o.attr(e)})),l&&l.attr(s))}};(0,l.addDep)({name:"connectorAnimation",type:"animationRule",extension:s["default"]});var p=function(t){function e(){return t.apply(this,arguments)||this}(0,o["default"])(e,t);var a=e.prototype;return a.getName=function(){return"connector"},a.__setDefaultConfig=function(){t.prototype.__setDefaultConfig.call(this);var e=this.config;e.isdashed=1,e.thickness=1},a.configureAttributes=function(){var t=this.getFromEnv("dataSource"),e=(0,r.extend2)({},t.connectors&&t.connectors.length?t.connectors[0]:t.connectors||{});(0,r.parseConfiguration)(e,this.config,this.getFromEnv("chart").config,{connector:!0}),this.components||(this.components={}),this._setConfigure(),this.setState("dirty",!0)},a._setConfigure=function(t){var e,a,n,o,i,s,l,c,d=this.config,h=this.getFromEnv("chart"),g=this.getFromEnv("dataSource"),p=g.connectors&&g.connectors.length?g.connectors[0]:g.connectors||{},u=t||p.length?p:p.connector,f=u&&u.length||0,m=h.getFromEnv("color-manager"),v=h.config,b=this.components.data;for(b||(b=this.components.data=[]),e=0;e<f;e+=1)n=u[e],(a=b[e])||(a=b[e]={config:{}}),!a.config&&(a.config={}),o=a.config,i=(0,r.pluck)(n.color,d.color,m.getColor("plotBorderColor")),s=(0,r.pluckNumber)(n.alpha,d.alpha,100),l=(0,r.pluckNumber)(n.thickness,d.thickness,1),c=(0,r.pluckNumber)(n.isdashed,d.isdashed,1),o.fromTaskId=(0,r.getFirstValue)(n.fromtaskid,"").toLowerCase(),o.toTaskId=(0,r.getFirstValue)(n.totaskid,"").toLowerCase(),o.fromTaskConnectStart=(0,r.pluckNumber)(n.fromtaskconnectstart,0),o.toTaskConnectStart=(0,r.pluckNumber)(n.totaskconnectstart,1),o.color=(0,r.convertColor)(i),o.alpha=.01*s,o.link=n.link,o.showHoverEffect=(0,r.pluckNumber)(n.showhovereffect,d.showhovereffect,v.showconnectorhovereffect,1),o.hoverColor=(0,r.convertColor)((0,r.pluck)(n.hovercolor,d.hovercolor,v.connectorhovercolor,(0,r.getDarkColor)(i,80)),(0,r.pluckNumber)(n.hoveralpha,d.hoveralpha,v.connectorhoveralpha,s)),o.hoverThickness=(0,r.pluckNumber)(n.hoverthickness,d.hoverthickness,v.connectorhoverthickness,l),o.thickness=l,o.dashedStyle=c?(0,r.getDashStyle)((0,r.pluckNumber)(n.dashlen,d.dashlen,5),(0,r.pluckNumber)(n.dashgap,d.dashgap,l),l):"none";(0,r.pluckNumber)(p.visible,1)?this.setState("visible",!0):this.setState("visible",!1)},a.draw=function(){var t,e,a,n,o,s,l,c,p,u,f,m,v,b,x,k,C,y,w,F,P,A,D,L,S,T=this.getFromEnv("chart"),E=T.components,N=this.components.data,M=this.getFromEnv("animationManager"),_=T.config,B=N.length,V=E.tasksMap,O=_.connectorextension,H=T.getChildren("canvas")[0].getChildContainer("connectorGroup"),I=this.getContainer("connectorContainer"),R=this.getState("visible"),W=this._contextChanged(),G=this.components.removeDataArr||[],z=G.length;if(this.getState("removed")||this.getState("dirty")||W&&R||this.getState("dragged")){for(I||(I=this.addContainer("connectorContainer",M.setAnimation({el:"group",attr:{name:"connectors"},container:H,component:this})),R?I.show():I.hide()),S=0;S<=B;S+=1)if(o=N[S])if(x=o.config,!o.graphics&&(o.graphics={}),F=o.graphics,t=x.fromTaskId&&x.fromTaskId.toLowerCase(),e=x.toTaskId&&x.toTaskId.toLowerCase(),a=V[t],n=V[e],P=F.connector,a&&n){if(k=a.config,C=n.config,s=(l=k.yPos+.5*k.height)===(c=C.yPos+.5*C.height),p=k.xPos,u=k.xPos+k.width,f=C.xPos,m=C.xPos+C.width,!1===(0,i.checkInvalidValue)(p,u,f,m))continue;if(v=0,b=0,0===x.fromTaskConnectStart&&1===x.toTaskConnectStart&&(b=1),0===x.fromTaskConnectStart&&0===x.toTaskConnectStart&&(b=2),1===x.fromTaskConnectStart&&1===x.toTaskConnectStart&&(b=3),1===x.fromTaskConnectStart&&0===x.toTaskConnectStart&&(b=4),s)switch(w=k.height,b){case 1:y=["M",u,l,u+(v=(f-u)/10),l,"L",u+v,l,u+v,l-w,"L",u+v,l-w,f-v,l-w,"L",f-v,l-w,f-v,l,"L",f-v,l,f,c];break;case 2:y=["M",u,l,u+O,l,"L",u+O,l,u+O,l-w,"L",u+O,l-w,m+O,l-w,"L",m+O,c-w,m+O,c,m,c];break;case 3:y=["M",p,l,p-O,l,"L",p-O,l,p-O,l-w,"L",p-O,l-w,f-O,l-w,"L",f-O,l-w,f-O,l,"L",f-O,l,f,l];break;case 4:y=["M",p,l,p-O,l,"L",p-O,l,p-O,l-w,"L",p-O,l-w,m+O,l-w,"L",m+O,l-w,m+O,l,"L",m+O,l,m,l]}else switch(b){case 1:y=["M",u,l,u+(f-u)/2,l,"L",u+(f-u)/2,l,u+(f-u)/2,c,"L",u+(f-u)/2,c,f,c],y=u<=f?["M",u,l,u+(f-u)/2,l,"L",u+(f-u)/2,l,u+(f-u)/2,c,"L",u+(f-u)/2,c,f,c]:["M",u,l,u+O,l,"L",u+O,l,u+O,l+(c-l)/2,"L",u+O,l+(c-l)/2,f-O,l+(c-l)/2,"L",f-O,l+(c-l)/2,f-O,c,"L",f-O,c,f,c];break;case 2:y=["M",u,l,u+O+(v=m-u<0?0:m-u),l,"L",u+O+v,l,u+O+v,c,"L",u+O+v,c,m,c];break;case 3:y=["M",p,l,p-O-(v=p-f<0?0:p-f),l,"L",p-O-v,l,p-O-v,c,"L",p-O-v,c,f,c];break;case 4:y=p>m?["M",p,l,p-(p-m)/2,l,"L",p-(p-m)/2,l,p-(p-m)/2,c,"L",p-(p-m)/2,c,m,c]:["M",p,l,p-O,l,"L",p-O,l,p-O,l+(c-l)/2,"L",p-O,l+(c-l)/2,m+O,l+(c-l)/2,"L",m+O,l+(c-l)/2,m+O,c,"L",m+O,c,m,c]}(F.connector=M.setAnimation({el:P||"path",label:"path",attr:{path:y,stroke:x.color,"stroke-opacity":x.alpha,"stroke-width":x.thickness,"stroke-dasharray":x.dashedStyle},container:I,component:this})).show(),A={fromTaskId:x.fromTaskId,toTaskId:x.toTaskId,fromTaskConnectStart:x.fromTaskConnectStart,toTaskConnectStart:x.toTaskConnectStart,link:x.link,sourceType:"connector"},D=F.trackerElement,L=F.trackerElement=M.setAnimation({el:D||"path",attr:{path:y,stroke:r.TRACKER_FILL,"stroke-width":Math.max(x.thickness,1),cursor:x.link?"pointer":""},container:I,component:this}),D||L.on("fc-click",d(T)).hover(h(T),g(T)),L.data("dataObj",o).data("eventArgs",A)}else P&&M.setAnimation({el:P,component:this,callback:i.hideFn,doNotRemove:!0}),F.trackerElement&&M.setAnimation({el:F.trackerElement,component:this,callback:i.hideFn,doNotRemove:!0});for(S=0;S<z;S++)this._removeDataVisuals(G.shift())}},e}(i["default"]);e["default"]=p},1604:function(t,e,a){"use strict";e.__esModule=!0,e["default"]=void 0;e["default"]={"initial.dataset.connector":function(){return{"path.appearing":function(){return[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"final"}]}}}}},1605:function(t,e,a){"use strict";e.__esModule=!0,e["default"]=function(t){var e,a,o,i=t.getFromEnv("dataSource");if(function(t){return function(t){var e=t.tasks,a=!0;void 0!==e&&(a=e.length?!(e.length>0):e.task&&!(e.task.length>0));return a}(t)&&function(t){var e=t.connectors,a=!0;void 0!==e&&(a=e.length?!(e.length>0):e.task&&!(e.task.length>0));return a}(t)&&function(t){var e=t.milestones,a=!0;void 0!==e&&(a=e.length?!(e.length>0):e.milestone&&!(e.milestone.length>0));return a}(t)}(i))return void t.setChartMessage();e=i.tasks,a=i.connectors,o=i.milestones,e&&(0,n.datasetFactory)(t,t.getDSdef("task"),"task",1,e.length?e:[e]),a&&(0,n.datasetFactory)(t,t.getDSdef("connector"),"connector",1,a.length?a:[a]),o&&(0,n.datasetFactory)(t,t.getDSdef("milestone"),"milestone",1,o.length?o:[o]),t.getDatasets().forEach((function(e){e.addToEnv("yAxis",t.getChildren("xAxis")[0]),e.addToEnv("xAxis",t.getChildren("yAxis")[0])})),t.config.showLegend&&t._createLegendItems()};var n=a(278)}}])}));
//# sourceMappingURL=http://localhost:3052/4.0.2/map/eval/fusioncharts.gantt.js.map